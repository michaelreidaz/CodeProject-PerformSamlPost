<!DOCTYPE html>
<!-- saved from url=(0072)https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	

	
	<link rel="preconnect" href="https://apps.developermedia.com/">
	<link rel="preconnect" href="https://cdn1.developermedia.com/">
	<link rel="preconnect" href="https://cdn.ampproject.org/">
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://ajax.googleapis.com/">
	<link rel="preconnect" href="https://adservice.google.com/">
	<link rel="preconnect" href="https://www.googletagservices.com/">
	<link rel="preconnect" href="https://www.googletagmanager.com/">
	<link rel="preconnect" href="https://www.google.com/">
	<link rel="preconnect" href="https://www.google-analytics.com/">
	<link rel="preconnect" href="https://pagead2.googlesyndication.com/">

	<link rel="preconnect" href="https://codeproject.freetls.fastly.net/">


	<link rel="preload" href="./Performing a SAML Post with C# - CodeProject_files/logo250x135.gif" as="image">


	<link rel="preload" href="https://www.codeproject.com/App_Themes/CodeProject/Img/logo135-bg.gif" as="image">
	<link rel="preload" href="./Performing a SAML Post with C# - CodeProject_files/jquery.min.js.download" as="script" type="text/javascript">


	<title>Performing a SAML Post with C# - CodeProject</title> 
    
	<!-- inlined file /App_Themes/CodeProject/Css/article.critical.min.css. Minimized in Release. -->
<style type="text/css">
.blank-background{background-color:#fff}html,div,span,applet,object,iframe,a,abbr,acronym,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,fieldset,form,label,table,tbody,tfoot,thead,tr,th,td,li,ol,ul{margin:0;padding:0;border:0}html{font-size:100.01%;-webkit-font-smoothing:antialiased;font-smooth:always}body,p,h1,h2,h3,h4,h5,h6,li,tr,td,th,dd,dt{font-family:"Segoe UI",Arial,Sans-Serif;font-size:15px;line-height:1.4;color:#111}body{margin:0}h1,h3,h4,h5,th{font-weight:bold}h1{color:#333;padding:0;margin:0 0 7px;text-align:left}h2{margin:20px 0 11px;padding:0;padding-bottom:10px;color:#333}h3{color:#f90}h1{font-size:29px;font-weight:200}h2{font-size:29px;font-weight:200}h3{font-size:19px;font-weight:normal}h4{font-size:16px}pre{color:#000;background-color:#fbedbb;padding:6px;font:14px Consolas,monospace,mono;white-space:pre;overflow:auto;border:solid 1px #fbedbb;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;tab-size:4}code{color:#900;font:15px Consolas,monospace,mono}table{background-color:Transparent}img{-ms-interpolation-mode:bicubic}a{text-decoration:none;color:#005782}a:visited{color:#800080}a:hover{text-decoration:underline}a:not([href]){color:inherit;text-decoration:none}input[type="text"],input[type="url"],input[type="search"],input[type="email"],select,textarea{border:1px solid #d7d7d7;font-size:15px;padding:5px}a.button,a.button-large,.button,.button-large{color:#fff;background-color:#e08900;border:1px solid #ccc;text-decoration:none;white-space:nowrap;font-size:100%;padding:4px;cursor:pointer;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}table.small-text td,ul.small-text li,ol.small-text li,.small-text{font-size:13px}.invisible{display:none}.subdue,.subdue li,tr.subdue td{color:#808080}.align-left{text-align:left}.align-right{text-align:right}.align-center{text-align:center}.float-right{float:right}.float-left{float:left}.sticky{position:sticky;top:0}.extended{width:100%;box-sizing:border-box}.padded-top{padding-top:20px}.tight{margin:0;padding:0}.nowrap{white-space:nowrap}.fixed-layout{table-layout:fixed}.raised{background-color:#fff8df;border:1px solid #ccc;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}ol,ul{padding-left:40px;margin:10px 0}ol.compact li,ul.compact li,ol li.compact,ul li.compact{font-size:13px}ul.download{margin-top:25px}ul.download li,ul li.download,ul.Download li,ul li.Download{background:url("/images/download24.png") no-repeat scroll left center transparent;font-weight:bold;list-style-type:none;margin:0 0 6px -40px;padding:0 0 1px 30px;vertical-align:middle}.callout{margin:20px 0;background-color:#ffffe1;color:#333;border:1px solid #ccc;padding:15px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.trace{padding:20px;background-color:#eee;color:#333;border:1px solid #f00;font-size:12px}textarea,input[type="text"],input[type="button"],input[type="submit"]{-webkit-appearance:none;border-radius:0}.container-content{background-color:#fff;position:relative;zoom:1;padding:0 9px;cursor:default}.container-content-wrap{margin:auto;max-width:1270px}.container-content pre,.container-code pre,.answer pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;_white-space:pre;word-break:break-word;-ms-word-break:break-word}.flex-container{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.flex-extend{justify-content:space-between}.flex-item{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flex-item-tight{flex:0 1 auto}.hover-container{display:block;position:relative}.clearfix:after,.container:after{display:block;content:'.';visibility:hidden;height:0;clear:both}.clearfix,.container{display:inline-block;display:block}.access-link,.access-link img{position:absolute;top:0;left:0;width:1px;height:1px;z-index:101;border-style:none;margin-top:-1px;overflow:hidden}.site-top-menu{white-space:nowrap;position:absolute;z-index:101;width:100%}.site-top-menu .main-content{width:100%}.site-top-menu .main-content .memberbar{margin-left:90px;margin-right:10px}.site-top-menu.fixed .main-content{margin:auto;max-width:1270px}.site-header{background-image:url('/App_Themes/CodeProject/Img/logo135-bg.gif');white-space:nowrap;overflow:hidden}.site-header .main-content{position:relative;overflow:hidden;white-space:nowrap}.site-header .logo{display:inline-block}.site-header .promo{display:inline-block;position:absolute;top:33px;right:0}.site-header.fixed .main-content{margin:auto;max-width:1270px}.sub-headerbar{padding-right:9px;position:relative;margin:auto;max-width:1270px}.sub-headerbar-divider{margin-left:10px;height:1px;border-bottom:1px solid #ccc;position:absolute;bottom:2px;left:0;right:9px}.memberbar{height:25px;padding-top:10px;color:#999;font-size:13px}.memberbar a{color:#808080;font-size:13px}div.navbar{white-space:nowrap}.navmenu{background:#fff;color:#4d4d4d;padding:0;margin:0;list-style:none;height:25px}.navmenu ul,.navmenu li{margin:0;padding:0}.navmenu .has-submenu{position:absolute;right:5px;padding-left:10px}.navmenu>li:hover>a,.navmenu>li>a:active{border:1px solid #ccc}.navmenu ul,.navmenu>li.open:hover>a,.navmenu>li.open>a:active{border:1px solid #ccc;border-bottom-color:#fff}.navmenu>li{margin:0 11px 2px 2px}.navmenu>li:active,.navmenu>li:active>a,.navmenu>li:hover,.navmenu>li>a:active{background:#fff;color:#4d4d4d}.navmenu>li>a{padding:2px 7px 6px 7px;border:1px solid transparent;font-weight:bold}.navmenu a{display:block;float:left;color:#666;background:#fff;font-size:16px;padding:0 9px;text-decoration:none;white-space:nowrap}.navmenu a.fly{white-space:nowrap}.navmenu ul{background:#fff;position:absolute;left:-9999px;top:-9999px;list-style:none}.navmenu li{float:left;color:#4d4d4d}.navmenu li.last{height:9px}.navmenu li a:active,.navmenu li a:hover{color:#fff;background-color:#f90}.navmenu li>a:active,.navmenu li:hover,.navmenu li:hover>a,.navmenu li:hover.heading,.navmenu li a.selected{position:relative;color:#fff;background-color:#f90}.navmenu li.openable:hover ul{left:0;top:30px;z-index:500}.navmenu li.openable:hover>ul ul{position:absolute;left:-9999px;top:-9999px;width:auto}.navmenu li.open{position:relative}.navmenu li.open a{color:#fff;background-color:#f90}.navmenu li.open ul{left:0;top:30px;z-index:500}.navmenu li.open ul ul,.navmenu li.open li.open ul ul,.navmenu li.open li.open li.open ul ul,.navmenu li.open li.open li.open li.open ul ul{position:absolute;left:-9999px;top:-9999px}.navmenu li ul{border-bottom:5px solid #f90}.navmenu li li{float:none}.navmenu li li:active>a.fly,.navmenu li li:hover>a.fly{color:#fff;background-color:#f90}.navmenu li li a{float:none;font-size:13px;font-weight:normal}.navmenu li li a.fly{color:#4d4d4d;background-color:#fff;padding:2px 20px}.navmenu li li a.break{margin-bottom:15px}.navmenu li li a.highlight1,.navmenu li li a.highlight1:active,.navmenu li li a.highlight1:hover{background-color:#090}.navmenu li li a.highlight2,.navmenu li li a.highlight2:active,.navmenu li li a.highlight2:hover{background-color:#f90}.navmenu li li a.highlight3,.navmenu li li a.highlight3:active,.navmenu li li a.highlight3:hover{background-color:#000}.navmenu li li a.highlight1,.navmenu li li a.highlight2,.navmenu li li a.highlight3{color:#fff;font-size:15px;margin:5px 0;padding:9px 20px}.site-footer{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;padding-top:5px;width:100%;font-size:12px;color:#999}.site-footer .align-left,.site-footer .align-center,.site-footer .align-right{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.site-footer .align-left{flex:1 0 100px}.site-footer .align-center{flex:0 1 0%;white-space:nowrap}.site-footer .align-right{flex:1 0 100px}.site-footer .page-width .active{border-bottom:2px solid #f90}.searchbar{padding:0}.searchbar .search{margin-bottom:4px;padding:2px 5px 0;border:1px solid #ccc}.searchbar .search.subdue{color:#ccc}.searchbar input.search{width:190px;border:none;font-size:12px;padding:4px 2px}.searchbar .search-advanced{padding:8px;width:203px;z-index:1000;background-color:#fff;border:solid 1px #ccc;position:absolute;top:-4px;right:0}.searchbar .popup{display:none}.search td{background-color:#fff}.article-container-parts{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}.article-container{-webkit-box-flex:1;-moz-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background-color:#fff;color:#111;zoom:1;position:relative;max-width:100%;min-height:675px}.article-container .article{margin:0 20px 0 10px;line-height:143%}.article-container span.stats{margin-left:30px}.article-left-sidebar{width:120px;min-width:120px;min-height:400px;font-size:13px;border-right:1px solid #f2f2f2;padding:0}.article-left-sidebar .article-left-sidebar-inner{width:120px;min-width:120px}.article-left-sidebar .tabs>div{padding:5px 0 5px 10px}.article-left-sidebar .selected{font-weight:bold;background:transparent url("/images/right-selected.gif") no-repeat scroll right 9px}.article-left-sidebar h4{color:#f90;font-size:13px;font-weight:bold}.article-left-sidebar .stats div div div{padding:0 0 10px 10px;color:#666}.article-right-sidebar{width:300px;margin-left:10px;font-size:13px}.article-right-sidebar .gototop{text-align:center;padding:10px 0;opacity:0;-webkit-transition:opacity .3s linear 0ms;-moz-transition:opacity .3s linear 0ms;-o-transition:opacity .3s linear 0ms;transition:opacity .3s linear 0ms}.container-content .edit-links{margin:21px 0 0 10px}.article-summary{padding:0 10px 0 10px;overflow:hidden}.article h1{margin:0 0 15px 0}.article h2{color:#f90}.article pre{overflow:auto}.article .header .title{color:#808080}.article .header .author{font-weight:bold;min-width:100px}.article .header .author a{color:#808080}.article .header .avatar{max-width:48px;max-height:48px;overflow:unset}.article .header .avatar-wrap{width:48px;height:48px;margin-right:10px;text-align:center}.article .header .date{white-space:nowrap}.article .header .license{margin-left:15px}.article .header .stats{margin-left:30px}.article img.lazyload,.article img.lazyloading{opacity:0}.article img.lazyloaded{opacity:1;transition:opacity 300ms}.article .share-list{margin-bottom:40px;width:385px;display:inline-block}.article .summary{color:#808080;padding:40px 0 15px 0}.article .text{padding-top:10px}.article-nav{text-align:right;margin-top:21px;vertical-align:middle;line-height:15px}.msg-728x90{width:728px;height:90px;overflow:hidden}.msg-300x250{width:300px;height:250px;overflow:hidden}.tags{line-height:190%}.tags .t{background:none repeat scroll 0 0 transparent;border:1px solid transparent;border-radius:12px 0 0 12px;line-height:1.4;padding:0 2px 0 4px;position:relative;text-decoration:none;margin:2px 0 4px 0;white-space:nowrap}.tags .t:hover{background-color:#fff8ba;border:1px solid #e5dc8a;text-decoration:none}.tags .t a{color:#666;display:inline-block;margin-right:3px;padding-left:5px;text-overflow:ellipsis}.container-breadcrumb{font-size:13px;margin-top:7px;color:#808080;margin:12px 0 35px}.container-breadcrumb a{color:#808080}.pre-lang{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;background-color:#fbedbb;justify-content:space-between;padding:4px 8px;margin-top:5px;color:#999;border-bottom:solid 1px #ffd044}.code-comment{color:#008000;font-style:italic}.code-keyword{color:#00f}.code-sdkkeyword{color:#399}.code-string{color:#800080}.code-attribute{color:#f00}.code-leadattribute{color:#800000}.pre-action-link{font-size:12px;color:#999}.pre-action-link span{cursor:pointer;margin:0;-webkit-transition:color .1s linear;-moz-transition:color .1s linear;-o-transition:color .1s linear;transition:color .1s linear}.speech-bubble-container-down,.speech-bubble-container-up,.speech-bubble-container-up-right,.speech-bubble-container-left,.speech-bubble-container-right{position:relative}.speech-bubble-up,.speech-bubble-down,.speech-bubble-left,.speech-bubble-right,.speech-bubble-up-right{padding:.6em;border:1px solid #ccc;background-color:#fff;margin:15px;text-decoration:none;font-weight:normal;text-align:left;white-space:normal;color:#333;font-size:12px}.speech-bubble-down{margin-bottom:0}.tooltip .speech-bubble-up,.tooltip .speech-bubble-up-right,.tooltip .speech-bubble-down,.tooltip .speech-bubble-left,.tooltip .speech-bubble-right{-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.speech-bubble-pointer-down,.speech-bubble-pointer-down-inner{width:0;height:0;border-bottom-width:0;background:none}.speech-bubble-pointer-down{border-left:7px solid transparent;border-right:7px solid transparent;border-top:1px solid #ccc;border-top-width:14px;margin-left:35px;margin-bottom:15px;_display:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right,.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{width:0;height:0;border-top-width:0;background:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:1px solid #ccc;border-bottom-width:14px;margin-left:35px;position:absolute;top:-12px;_display:none}.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:12px solid #fff;margin-left:-5px;margin-bottom:-16px;padding-top:4px;position:absolute;_display:none}.speech-bubble-container-up-right .speech-bubble-pointer-up-right{margin-left:0;margin-right:0;right:35px}.tooltip{position:relative;text-decoration:none}.tooltip .speech-bubble-container-up,.tooltip .speech-bubble-container-down,.tooltip .speech-bubble-container-left,.tooltip .speech-bubble-container-right,.tooltip .speech-bubble-container-up-right,.tooltip .tooltip-flyout{display:none;opacity:0;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-down,.tooltip:active .speech-bubble-container-down,.tooltip:hover .speech-bubble-container-left,.tooltip:active .speech-bubble-container-left,.tooltip:hover .speech-bubble-container-right,.tooltip:active .speech-bubble-container-right,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right,.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout{display:block;z-index:16777271;opacity:1;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up{left:-35px}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right{text-decoration:none;position:absolute;width:150px;color:#000;cursor:text}.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout,.tooltip:hover .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:active .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:hover .speech-bubble-container-up .speech-bubble-pointer-up,.tooltip:active .speech-bubble-container-up .speech-bubble-pointer-up{top:1px}a:hover.tooltip{text-decoration:none}.tooltip-flyout{position:relative;border:1px solid #ccc;color:#666;background-color:#fff;margin:15px;z-index:2147483646;white-space:normal;font-weight:normal;text-align:left;cursor:text;width:175px;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.bottom-promo{height:90px;margin-top:10px;overflow:hidden}.bottom-promo .msg-728x90{width:728px;margin:0 auto}.msg-728x90{overflow:hidden;position:relative;height:90px;min-width:728px}body .msg-728x90{*float:right}body .bottom-promo .msg-728x90{*float:none}table.forum{table-layout:fixed;margin:0 0 20px 0;padding:0;width:100%}.forum table{border-collapse:separate}.forum .header1,.forum .header1 TD{color:#333;font-size:13px;vertical-align:middle}.forum .header2,.forum .header2 TD{color:#fff;background-color:#f90;font-size:13px;vertical-align:middle}.forum .header2 input,.forum .header2 TD input,.forum .header2 select,.forum .header2 TD select{padding:2px}.forum .button{border:1px solid #fc6;margin:1px}.forum .searchbar{border:1px solid #ccc;padding:4px 0 0 0;margin:3px 0}.forum .searchbar .search{width:200px}.forum .searchbar input[type=image]{vertical-align:middle}.forum .dropdown{background-color:#fffdfa;font-size:95%;margin-left:5px}.forum .footer,.forum .footer td,.forum .navbar,.forum .navbar td{font-size:13px;padding:8px 0;border:0;border-top:1px solid #808080}.author-wrapper{position:relative;padding:0 0 0 200px;min-height:185px}.author-wrapper .pic-wrapper{position:absolute;left:0;top:5px}.author-wrapper .profile-pic{border:1px solid #333;margin:0;padding:10px;-moz-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);-webkit-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);box-shadow:3px 3px 5px 1px rgba(0,0,0,.2)}.author-wrapper .description{padding:15px 15px 0 0}.author-wrapper .container-member .author{font-size:22px;color:#333}.author-wrapper .container-member .company{font-size:15px;color:#808080}.member-signin{font-size:13px}.member-signin .forgot{padding:0}.member-signin a.forgot{color:#808080}.member-signin.tooltip>span{border:1px solid transparent;padding:2px 6px 4px 6px;z-index:503}.member-signin.tooltip .tooltip-flyout{border:1px solid #ccc;border-bottom:5px solid #f90;padding:10px;width:200px;position:absolute;top:3px;left:-163px;background-color:#fff}.rating-container .rating-prompt{padding-right:5px;white-space:nowrap;line-height:25px;margin-right:2px;font-weight:bold;color:#808080}.rating-container .rating-votes{margin-left:5px}.rating-container.large-stars,.rating-container.medium-stars,.rating-container.small-stars{margin-left:7px}.rating-container.large-stars .rating-votes,.rating-container.large-stars .rating-prompt,.rating-container.large-stars .rating-poor,.rating-container.large-stars .rating-good{line-height:25px}.desktop-only{display:inherit}.tablet-only,.tablet-block-only{display:none}.mobile-only,.mobile-block-only{display:none}.desktop-only.tablet-only{display:inherit}.tablet-only,.mobile-only{display:none}.tablet-only.desktop-only{display:inherit}.rrssb-buttons,.rrssb-buttons li,.rrssb-buttons li a{-moz-box-sizing:border-box;box-sizing:border-box}.clearfix{*zoom:1}.clearfix:after{clear:both}.clearfix:before,.clearfix:after{content:" ";display:table}.rrssb-buttons{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;height:40px;margin:0;padding:0;width:100%}.rrssb-buttons li{float:left;height:100%;list-style:none;margin:0;padding:0 2.5px;line-height:13px}.rrssb-buttons li.email a{background-color:#0a88ff}.rrssb-buttons li.facebook a{background-color:#306199}.rrssb-buttons li.linkedin a{background-color:#007bb6}.rrssb-buttons li.twitter a{background-color:#26c4f1}.rrssb-buttons li.reddit a{background-color:#8bbbe3}.rrssb-buttons li.pinterest a{background-color:#b81621}.rrssb-buttons li.compact{padding:0 4.5px}.rrssb-buttons li.compact a{border-radius:50%;padding:0 7px 0 32px}.rrssb-buttons li.compact a .icon{left:7px;top:-3px;width:5%;transform:scale(.85)}.rrssb-buttons li.compact a .icon svg{height:auto;width:auto}.rrssb-buttons li a{background-color:#ccc;border-radius:3px;display:block;font-size:11px;font-weight:bold;height:100%;padding:11px 7px 12px 27px;position:relative;text-align:center;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;-webkit-transition:background-color .2s ease-in-out;-moz-transition:background-color .2s ease-in-out;-o-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.rrssb-buttons li a .icon{display:block;height:100%;left:10px;padding-top:9px;position:absolute;top:0;width:10%}.rrssb-buttons li a .icon svg{height:17px;width:17px}.rrssb-buttons li a .icon svg path,.rrssb-buttons li a .icon svg polygon{fill:#fff}.cc-window{opacity:1;background-color:#f90}.cc-window.cc-invisible{opacity:0}.cc-animate.cc-revoke.cc-bottom{transform:translateY(2em)}.cc-window,.cc-revoke{position:fixed;overflow:hidden;box-sizing:border-box;font-family:"Segoe UI",Arial,Sans-Serif;font-size:13px;line-height:1.5em;display:flex;flex-wrap:nowrap;z-index:9999}.cc-window.cc-banner{padding:.7em 1.8em;width:100%;flex-direction:row}.cc-revoke{padding:.5em}.cc-btn,.cc-link,.cc-close,.cc-revoke{cursor:pointer}.cc-link{opacity:.8;display:inline-block;padding:.2em;text-decoration:underline}.cc-link:active,.cc-link:visited{color:initial}.cc-btn{display:block;padding:.4em .8em;font-size:.9em;font-weight:bold;border-width:2px;border-style:solid;text-align:center;white-space:nowrap}.cc-banner .cc-btn:last-child{min-width:110px;margin-left:10px}.cc-highlight .cc-btn:first-child{background-color:transparent;border-color:transparent}.cc-revoke.cc-bottom{bottom:0;left:3em;border-top-left-radius:.5em;border-top-right-radius:.5em}.cc-bottom{bottom:1em}.cc-window.cc-banner{align-items:center}.cc-banner.cc-bottom{left:0;right:0;bottom:0}.cc-banner .cc-message{flex:1}.cc-compliance{display:flex;align-items:center;align-content:space-between}.cc-compliance>.cc-btn{flex:1}.cc-btn+.cc-btn{margin-left:.5em}
</style>
<link rel="stylesheet" type="text/css" href="./Performing a SAML Post with C# - CodeProject_files/Main.min.css" media="all" onload="if(media!=&#39;all&#39;)media=&#39;all&#39;">
<noscript><link rel="stylesheet" type="text/css" href="https://codeproject.freetls.fastly.net/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.2022.05.26.1"></noscript>


    <script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/jquery.min.js.download" defer=""></script>
<script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/article.min.js.download" defer=""></script>
<script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/client" defer="" async=""></script>
<script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/MemberProfilePopup.min.js.download" defer=""></script>
<script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/a.min.js.download" defer=""></script>

	
<meta http-equiv="content-language" content="en-US">

<meta name="Description" content="Code performing a SAML Post which can be used for Single Sign On applications">
<meta name="Keywords" content="C#, ASP.NET, .NET, Architect, Dev, Intermediate">
<meta name="Author" content="David W Speight">
<meta name="Rating" content="General">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13">

<link rel="dns-prefetch" href="https://ajax.googleapis.com/"> 
<link rel="canonical" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@CodeProject">
<meta name="og:site_name" content="CodeProject">
<meta name="twitter:creator" content="@CodeProject">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2/9/2010 10:39:00 AM">
<meta property="article:modified_time" content="3/8/2010 4:24:00 AM">
<meta name="twitter:label1" content="Written by">
<meta name="twitter:data1" content="David W Speight">
<meta name="twitter:label2" content="Reading time">
<meta name="twitter:data2" content="8 min read">
<meta property="og:url" content="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C">
<meta property="og:title" content="Performing a SAML Post with C#">
<meta property="og:description" content="Code performing a SAML Post which can be used for Single Sign On applications">
<meta property="og:image" content="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/Thumbnail.png">
<meta name="twitter:image" content="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/Thumbnail.png">

<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Python" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=34">
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="https://www.codeproject.com/webservices/LoungeRSS.aspx">
<meta name="robots" content="index, follow">

<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="https://www.codeproject.com/info/OpenSearch.xml">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" sizes="144x144" href="https://www.codeproject.com/favicon/apple-touch-icon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="https://www.codeproject.com/favicon/favicon-32x32.png"> 
<link rel="icon" type="image/png" sizes="16x16" href="https://www.codeproject.com/favicon/favicon-16x16.png"> 
<link rel="manifest" href="https://www.codeproject.com/favicon/manifest.json"> 
<link rel="mask-icon" href="https://www.codeproject.com/favicon/safari-pinned-tab.svg" color="#ff9900">
	<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "TechArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C"
   },
  "name": "Performing a SAML Post with C#",
  "headline": "Performing a SAML Post with C#",
  "url": "https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C",
  "discussionUrl": "https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#_comments",
  "isFamilyFriendly": "true",
  "image": "https://www.codeproject.com/KB/aspnet/DotNetSamlPost/Thumbnail.png",
  "keywords": "C#,ASP.NET,.NET,Architect,Dev,Intermediate",
  "commentCount": "249",
  "editor" : {
    "@type" : "Person",
    "name" : "David W Speight",
    "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=1332212"
  },
  "license": "http://www.codeproject.com/info/cpol10.aspx",
  "publisher" : {
    "@type" : "Organization",
    "name" : "CodeProject"
  },
  "description": "Code performing a SAML Post which can be used for Single Sign On applications",
  "articleSection": "ASP.NET",
  "author" : [{
      "@type" : "Person",
      "name" : "David W Speight",
      "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=1332212"
    }],
  "datePublished": "2010-02-09",
  "dateCreated": "2010-02-09",
  "dateModified": "2010-03-08"
,
  "contentRating" : {
    "@type" : "Rating",
    "ratingValue" : 4.88,
    "bestRating" : 5,
    "worstRating" : 1
  }
}</script>

<script type="application/ld+json">{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=web",
      "name" : "Web Development"
    }
  },{
    "@type": "ListItem",
    "position": 2,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=ASP.NET",
      "name" : "ASP.NET"
    }
  }]
}</script>


	<!--<base target="_top">--><base href="." target="_top">
	
    


<script type="text/javascript">
function defrm () { /* thanks twitter */
    document.write = '';
    window.top.location = window.self.location;
    setTimeout(function() { document.body.innerHTML = ''; }, 0);
    window.self.onload = function(evt) { document.body.innerHTML = ''; };
}

if (window.top !== window.self) {
    try {
        if (window.top.location.host) { /* will throw for all except chrome */ }
        else { defrm(); /* chrome */ }
    } catch (ex) { defrm(); /* everyone else */ }
}

// Specific case where a site is screwing with us.
if (typeof(DemoUrl) !== 'undefined') {
    document.write(unescape('%3Cme') + 'ta http' + '-equiv="re' + 'fresh con' +
                           'tent="1;url=' + DemoUrl + unescape('"%3CE'));
}
</script>
	





    <script async="" type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/js"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-YZNPNQ0F2S' , {'user_id': '996f6279-44b0-45b8-adf1-228d7c123cb7'});
    </script>

<style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:"Roboto-Regular",arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,.7),rgba(255,255,255,.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:"Google Sans",arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:"Google Sans",arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:"Roboto";font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}</style><style type="text/css"></style><link id="googleidentityservice" type="text/css" media="all" rel="stylesheet" href="./Performing a SAML Post with C# - CodeProject_files/style"><style></style><meta http-equiv="origin-trial" content="AzoawhTRDevLR66Y6MROu167EDncFPBvcKOaQispTo9ouEt5LvcBjnRFqiAByRT+2cDHG1Yj4dXwpLeIhc98/gIAAACFeyJvcmlnaW4iOiJodHRwczovL2RvdWJsZWNsaWNrLm5ldDo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A6+nc62kbJgC46ypOwRsNW6RkDn2x7tgRh0wp7jb3DtFF7oEhu1hhm4rdZHZ6zXvnKZLlYcBlQUImC4d3kKihAcAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXN5bmRpY2F0aW9uLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><meta http-equiv="origin-trial" content="A/9La288e7MDEU2ifusFnMg1C2Ij6uoa/Z/ylwJIXSsWfK37oESIPbxbt4IU86OGqDEPnNVruUiMjfKo65H/CQwAAACLeyJvcmlnaW4iOiJodHRwczovL2dvb2dsZXRhZ3NlcnZpY2VzLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjYxMjk5MTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZSwiaXNUaGlyZFBhcnR5Ijp0cnVlfQ=="><script src="./Performing a SAML Post with C# - CodeProject_files/pubads_impl_2022053101.js.download" async=""></script><link rel="preload" href="./Performing a SAML Post with C# - CodeProject_files/f.txt" as="script"><script type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/f.txt"></script></head>	

<body class="chrome chrome101"><div class="cc-revoke cc-bottom cc-animate cc-color-override--316233370" style="display: none;">Cookie Policy</div><div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window cc-banner cc-type-opt-in-out cc-theme-edgeless cc-bottom cc-color-override--316233370 " style=""><!--googleoff: all--><span id="cookieconsent:desc" class="cc-message">Like every other website we use cookies. By using our site you acknowledge that you have read and understand our <a href="https://www.codeproject.com/info/cookie.aspx">Cookie Policy</a>, <a href="https://www.codeproject.com/info/privacy.aspx">Privacy Policy</a>, and our <a href="https://www.codeproject.com/info/TermsOfUse.aspx">Terms of Service</a>. <a aria-label="learn more about cookies" role="button" tabindex="0" class="cc-link" href="https://www.codeproject.com/info/privacy.aspx" rel="noopener noreferrer nofollow" target="_blank">Learn more</a></span><div class="cc-compliance cc-highlight"><a aria-label="dismiss cookie message" role="button" tabindex="0" class="cc-btn cc-dismiss">Ask me later</a><a aria-label="deny cookies" role="button" tabindex="0" class="cc-btn cc-deny">Decline</a><a aria-label="allow cookies" role="button" tabindex="0" class="cc-btn cc-allow">Allow cookies</a></div><!--googleon: all--></div>

	<div id="ctl00_OneTap_OneTap">
    <div id="g_id_onload" data-client_id="857795997829.apps.googleusercontent.com" data-login_uri="/script/Membership/OAuthLogOn.aspx?auth=Google">
    </div>
</div>



	<a class="access-link" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#Main"><img alt="Click here to Skip to main content" src="./Performing a SAML Post with C# - CodeProject_files/t.gif"></a>




<div class="page-background">

	
	

	

	
    <div id="ctl00_STM" class="site-top-menu fixed">
        <div class="main-content">
            

<div class="container memberbar clearfix flex-container flex-extend">

	<div id="ctl00_MemberBar_GenInfo" class="flex-item align-left">15,320,699 members</div>

	<div class="flex-item">
		
	</div>

	<div class="flex-item align-right">

		

		

		

			<script type="text/javascript">//<!--
			function doSubmit(secure)
			{
				if (secure)
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C"
				else
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C"
				document.signinForm.submit();
				return true;
			}//-->
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip openable">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C">Sign in</a>
                    <img src="./Performing a SAML Post with C# - CodeProject_files/login32.png" width="16" height="16" style="vertical-align:middle;">
				</span>

				<div class="tooltip-flyout">
					<form name="signinForm" id="signinForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C" method="post" class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden">

						<div>Email</div>
						<div><input class="small-text" type="email" name="Email" id="Email" autocomplete="email"></div>
						<div>Password</div>
						<div><input class="small-text" type="password" name="Password" id="Password" autocomplete="current-password"></div>
						<div class="action">
                            <input id="joinBtn" type="button" class="create hidden" onclick="return Join();" value="Join" style="visibility: visible;">
                            <input type="hidden" name="fld_quicksign" value="true">
							<input type="submit" value="Sign in" class="signin" onclick="return doSubmit(false);">
						</div>

						<div class="container">
							
							&nbsp;
							<a id="ctl00_MemberBar_SendPassword" class="forgot float-right" href="https://www.codeproject.com/script/Membership/SendPassword.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark">

					Sign in with <a class="oauth" alt="Sign in using Github" title="Sign in using Github" href="https://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=GitHub"><img src="./Performing a SAML Post with C# - CodeProject_files/octicons_github.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" alt="Sign in using Facebook" title="Sign in using Facebook" href="https://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="./Performing a SAML Post with C# - CodeProject_files/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" alt="Sign in using Google" title="Sign in using Google" href="https://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="./Performing a SAML Post with C# - CodeProject_files/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" alt="Sign in using Microsoft" title="Sign in using Microsoft" href="https://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Microsoft"><img src="./Performing a SAML Post with C# - CodeProject_files/microsoft.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>

				</div>
            </span>
		
	</div>
</div>
        </div>
    </div>

	
    <div id="ctl00_SH" class="site-header fixed">
        <div class="main-content">
            <div class="logo"><a href="https://www.codeproject.com/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="./Performing a SAML Post with C# - CodeProject_files/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;"></a></div>
            <div class="promo"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Web-DevelopmentASP-NET" data-country="US" data-tags="C#, ASP.NET, .NET, Architect, Dev, Intermediate,rating4.5"><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=728x90&c=482765"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=728x90&c=482765"  width="728px" height="90px" target="_blank"/></a></noscript></div></div>
        </div>
    </div>

	
	<div id="ctl00_TPR" class="sub-headerbar clearfix fixed">
    <div class="float-right">
		

<div class="searchbar">

<form method="get" action="https://www.codeproject.com/search.aspx?sbo=kw" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tbody><tr><td><input tabindex="2" class="search subdue" id="sb_tb" autocomplete="off" value="" name="q"></td><td><input type="image" src="./Performing a SAML Post with C# - CodeProject_files/search.gif"></td></tr></tbody></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced small-text align-left" style="display: none;">
	<b>Search within:<br></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="checked"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>


		
		

		
		
	</div>
</div>
</form>

</div>
    </div>
    <div class="float-left">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li class="desktop-only"><a id="ctl00_TopNavBar_Home" href="https://www.codeproject.com/">home</a>


</li><li class="openable"><a id="ctl00_TopNavBar_Art" class="down selected" href="https://www.codeproject.com/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class="openable"><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, &#39;ctl00_TopNavBar_MapFlyout&#39;);" href="https://www.codeproject.com/script/Content/SiteMap.aspx">Browse Topics<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout" class="taxonomy">
			<li>
				<div id="siteMap"></div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="https://www.codeproject.com/script/Articles/Latest.aspx">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="https://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="https://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="https://www.codeproject.com/Forums/1641/Article-Writing">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="https://www.codeproject.com/script/Articles/Submit.aspx">
			<img src="./Performing a SAML Post with C# - CodeProject_files/write13.png" width="13" height="13"> Submit an article or tip
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtImportGitHub" class="fly highlight3" href="https://www.codeproject.com/script/Articles/ImportArticle.aspx">
			<img src="./Performing a SAML Post with C# - CodeProject_files/write13.png" width="13" height="13"> Import GitHub Project
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="https://www.codeproject.com/script/Articles/BlogFeed.aspx">
			<img src="./Performing a SAML Post with C# - CodeProject_files/write13.png" width="13" height="13"> Import your Blog
			</a></li>		
        
        <li class="last"></li>
	</ul>

</li>



<li class="openable">
<a id="ctl00_TopNavBar_Answers" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active">
    <span class="desktop-only tablet-only">quick answers</span><span class="mobile-only">Q&amp;A</span>
</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#_comments">
			<img src="./Performing a SAML Post with C# - CodeProject_files/write13.png" width="13" height="13"> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="https://www.codeproject.com/Questions/ask.aspx"><img src="./Performing a SAML Post with C# - CodeProject_files/write13.png" width="13" height="13"> Ask a Question</a></li>

		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions</a></li>
        
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=81" style="padding-left:30px">View C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=78" style="padding-left:30px">View C++ questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=268" style="padding-left:30px">View Python questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=87" style="padding-left:30px">View Javascript questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="https://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=91" style="padding-left:30px">View Java questions</a></li>
			
    
		<li class="last"></li>
	</ul>

</li>



<li class="openable"><a id="ctl00_TopNavBar_Forums" href="https://www.codeproject.com/script/Forums/List.aspx">
        <span class="desktop-only tablet-only">discussions</span><span class="mobile-only">forums</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_SenseAI" class="fly" href="https://www.codeproject.com/Feature/SenseAI-Discussions.aspx">CodeProject SenseAI</a></li>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="https://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class="openable"><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1580997/Application-Lifecycle">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="https://www.codeproject.com/Forums/1533717/Running-a-Business">Running a Business</a></li>
<li><a class="fly" href="https://www.codeproject.com/Forums/1533716/Sales-Marketing">Sales / Marketing</a></li>
<li><a class="fly" href="https://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="https://www.codeproject.com/Forums/3304/Work-Issues">Work  Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/369270/Design-and-Architecture">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1969389/Artificial-Intelligence">Artificial Intelligence</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/12076/ASP-NET">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1580226/JavaScript">JavaScript</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1969388/Internet-of-Things">Internet of Things</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1647/C-Cplusplus-MFC">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="https://www.codeproject.com/Forums/4486/ATL-WTL-STL">ATL /  WTL / STL</a></li>
<li><a class="fly" href="https://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1649/Csharp">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1627782/Free-Tools">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1827460/Objective-C-and-Swift">Objective-C and Swift</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1725/Database">Database</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/186301/Hardware-Devices">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="https://www.codeproject.com/Forums/1644/System-Admin">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1606152/Hosting-and-Servers">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1643/Java">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1942421/Linux-Programming">Linux Programming</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1650/NET-Core-and-Framework">.NET (Core and Framework)</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1848626/Android">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1876716/iOS">iOS</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/13695/Mobile">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1004257/WPF">WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1646/Visual-Basic">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1640/Web-Development">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/suggestions.aspx">Site Bugs / Suggestions</a>
</li>
<li><a class="fly" style="padding-left:30px" href="https://www.codeproject.com/Forums/1652005/Spam-and-Abuse-Watch">Spam and Abuse Watch</a>
</li>

		<li class="last"></li>
	</ul>

</li>

<li class="openable"><a id="ctl00_TopNavBar_Features" href="https://www.codeproject.com/Feature/">
      <span class="desktop-only tablet-only">features</span><span class="mobile-only">stuff</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="https://www.codeproject.com/script/Contests/CurrentCompetitions.aspx?cmpTpId=3&amp;amp;awsac=true">Competitions</a></li>
        
		<li><a id="ctl00_TopNavBar_Conferences" class="fly" href="https://www.codeproject.com/script/Conferences/List.aspx">Conferences</a></li>
		
		<li><a id="ctl00_TopNavBar_News" class="fly" href="https://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="https://www.codeproject.com/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="https://www.codeproject.com/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="https://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="https://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		
        
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="https://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li class="openable"><a id="ctl00_TopNavBar_Lounge" href="https://www.codeproject.com/Lounge.aspx">
            <span class="desktop-only tablet-only">community</span><span class="mobile-only">lounge</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="https://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly break" href="https://www.codeproject.com/script/Contests/Winners.aspx?obtid=1&amp;amp;cmpTpId=2&amp;amp;cid=0">Most Valuable Professionals</a></li>

		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly highlight2" href="https://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_SiteBlog" class="fly break" href="https://www.codeproject.com/Members/CodeProject#_comments">The CodeProject Blog</a></li>

		<li><a id="ctl00_TopNavBar_WhereAmILink" class="fly" href="https://www.codeproject.com/Forums/1939564/Where-I-am-Member-Photos">Where I Am: Member Photos</a></li>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="https://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="https://www.codeproject.com/Feature/WeirdAndWonderful.aspx">The Weird &amp; The Wonderful</a></li>

		<li class="last"></li>
	</ul>

</li>


<li class="openable" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="https://www.codeproject.com/KB/FAQs/">
    <span class="desktop-only tablet-only">help</span><span class="mobile-only">?</span>
</a>


	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="https://www.codeproject.com/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="https://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight2" href="https://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="https://www.codeproject.com/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="https://www.codeproject.com/Forums/1641/Article-Writing">Article Help Forum</a></li>
		
		
		
		
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="https://www.codeproject.com/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
    </div>
	<div class="sub-headerbar-divider"></div>
	</div>		
	

	<div id="A" class="container-content-wrap fixed"> 

	<div class="container-content">

        
		<div class="clearfix">
			<div class="container-breadcrumb float-left ">
				<div><a rel="nofollow" href="https://www.codeproject.com/script/Content/SiteMap.aspx">Articles</a> / <a rel="nofollow" href="https://www.codeproject.com/script/Content/Tag.aspx?tags=web">Web Development</a> / <a rel="nofollow" href="https://www.codeproject.com/script/Content/Tag.aspx?tags=ASP.NET">ASP.NET</a></div>
			</div>

            <div class="float-left">
				
			</div>

			<div class="edit-links float-right">
				



 
&nbsp;










			</div>

			<div class="article-nav float-right">
				


<div style="display:inline-block;position:relative;top:-6px;margin-right:20px">
    
</div>



 

<a id="ctl00_ActionLinks_PrintMd" data-tooltip="Print" data-enabletooltip="true" data-width="auto" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?display=Print" class="tooltip" title="">
   <img src="./Performing a SAML Post with C# - CodeProject_files/print48.png" width="24" height="24" style="border:0">
<div class="speech-bubble-container-up" style="width:auto">  <div class="speech-bubble-up" style="text-align:center"> Print</div>  <div class="speech-bubble-pointer-up">    <div class="speech-bubble-pointer-up-inner"></div>  </div></div></a>



<span id="ctl00_ActionLinks_R">
    
    
</span>
			</div>
		</div>

        
		<div class="extended article-container-parts">

			
		    <div id="ctl00_LeftSideBar" class="article-left-sidebar">

                <div id="ctl00_StickyBlock" class="article-left-sidebar-inner sticky">

                    
    		        

<div class="tabs">
	<div class=" selected">Article</div>
<div class="browse-code"><a href="https://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=56640">Browse Code</a></div>
<div><a href="https://www.codeproject.com/script/Articles/Statistics.aspx?aid=56640">View Stats</a></div>
<div><a href="https://www.codeproject.com/script/Articles/ListVersions.aspx?aid=56640">Revisions (17)</a></div>
<div><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#_comments">Comments (249)</a></div>
<div>Posted 9 Feb 2010</div>


    
</div>



			        

			        <div>
                        <h4 id="ctl00_TaggedAsWrapper">Tagged as</h4>
			            <span id="ctl00_TagList_TagWrp" class="tags vertical">

	
	

	
	<span id="ctl00_TagList_VisibleTags"><div class="t"><a rel="tag" href="https://www.codeproject.com/Tags/Csharp" data-id="81">C#</a></div><div class="t"><a rel="tag" href="https://www.codeproject.com/Tags/ASP.NET" data-id="85">ASP.NET</a></div><div class="t"><a rel="tag" href="https://www.codeproject.com/Tags/.NET" data-id="98">.NET</a></div></span> 

	
	
</span>


			        </div>

                    <div id="ctl00_VerticalStatsWrapper" class="stats">
                    <h4>Stats</h4>
                    <div id="ctl00_VerticalStats"><div class="stats"><div>714.7K views</div><div>35.4K downloads</div><div>113 bookmarked</div></div></div>
                    </div>

                    
                </div>
		    </div>
            

			
			<div id="AT" class="article-container  fixed"> 

				<div class="article">

					<form name="aspnetForm" method="post" action="https://www.codeproject.com/Articles/56640/View.aspx" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="L8gCe5y0Qg7N0DaveZZxSoFy6ynylARdonljyixYQqGgcfSLsncTlFJscs7NRTCWQzlt2r7LPU5kOFFFjxKopHRFNHSD6mq9CnEnkpAKc9/SeEm6Il/7fvNhndb9T/NeTdc35aQsHEdDA5R2yZdV6SXG1x/6TpckCBU4t8es98yk8ShGUcm9xsQX/PoCY69yYh5aUsLD0M4h3BKaHVdsWABvvpuK8o9kHtIY/0XMLERemEMUG8qZamc873BWsUKNJ1xi0Haj3k4RkaxvC65d0osbm1OcydeyXQhS5Fm4Oti9kC1qnt682EAFNTIX9VZV5Rnmhud5nEN1L8YEpTIs/dkiX5XJWmyFWiGWmOBXbAx9A37vEIVdfvgXWOHCIkCK1xxBWEAeOnJV6znVS2H0cIuQ7OeANZk9tX3pNcpK9P2qplbaPmV+cPWAWDK9K345OeW1k0XnQetZ/Iy20SvHVQ9JSV+aRTMBUVRWhbukWFPSBd4aX0T+WKkFvBRWkYJn3glQnkhWCyLZsk12qj339tK3ppzTkz0LXG2LVmiNhMIjAub6EyBse+jamgl7CAw8CSLKVcVO4zRcvnhRs/FzqZZ0qTsVlBgUab7p92oRIGi/WhIBjYFauq8mBQb/koKj7VlGhxEO2KEvgFg+EuO538totvzBBL3zvkyN/OtgucIWLOojy0USUCEcArZmTcDf8u6bD/SPdcOiHUFKg5xL0PtkcJpSNz0kNxSPlJ+3FmtUH6F2LNt1r6Amt0gsghP299PDFdxruZ9J5r+hNXUe3QOrujNsaGyqeVCS03kV28tRypMFZKaKKhgj8DLZervVkOxwYa4NshCF3EkWz9CSPBz5NUouoAhOxtc7AG5fGTZ8pLMFAaEYDA0dyTVOxF/tNEo96jYom5x9Bv6Nf3HaZMiB+IcvcOGscTXg+zbW2zv5VIuIbThWa3g6ushKUeut9RG2tVn/INSLiHdXdQsknl1HKCHwqnO3KrxMxPGZ9l2nh70E3ph5yqxgiNOGaaupzbYCnP/Ij2A9+8HupA3iF+fshxjAkqoq+BoQcQp1E1AN0jOcc+gWlOnGR37JvNwPtHSMm8gnJxQceFI08xBsmF9eEHNZLkfwP0l5fOF481ZN12bI39tLgiBpnHyfsNcs+Kt2m660E6KVb2iJlw9U/be70BGSvsi67QbIlbWJs8r44qinEWwLSWO1Mu5WAvD0LSYJ1HqDVgjPVO06aon9K0oNcrgQDsZpbrGN4PAe+FTVT52SBz64DjQaxnwAQRIThvnKmKbChysUmj4vd/59nZLIht2i/+823wrAfpv4zeJSEVzbLugiX6RkePoSQ1WqkdPrxrCOQ6lf1041oDfrIoS/BiRgJo5wJKq0sp99XXmcq7QyIVNuZRK6n6Q/yYSz+0VhejCKhht851K8NRQiNrNb7zAK1nXbWvQjdrtro9gjuylcjM00MRdt7Okn0GN2E5z8F2s1hzLg/BefDoHeM15kA0FnvJXTsYqnguI2SqT326tliJ97c3/DHXJ796BYLR4t4MNZqqjWVn2lfW0+O4hqGFgjhEW2lXZHIDWOMD/XUWkhmOAKefavWw0nQyC41L0e/Gg5SwBxJBeKHxOqc1h3UVhs7wre2lHH24dF2koXfd3n5KhnzNpH26fUI3BiSgWds1xMmhXYAd0up9Tn/NFseMBBfqfJN80zy99KGA2O719GRN5G/e2t+XHe4c6CQTWdDXa3Y1bIZWNBOBU5cq6upa0GBTMZxb7ZTI2WtdIDSqwoJReIZOnX5USD9dqO0zA02vXjV93nX11X9khZcu+RVyIzV0BwfqK2fawiuDNddj9F2/bNn7I7AoLPTc/Vo9n9i5SVxbqnYaWNRJNiXyy55zTYnHs15RIDKfVrgItfWbZOhBRxJW2XwflktFsZ9idHBre4fNKFFKf8/nv4ELweDHw7+lqzRZlaq+LMN85XlAwlGU2K+l18Usw/ESYrPZJ237qT9K4wtetRpyzogr6ktTPyFA4jpbKRLZAap5ec0Ilpb3SdapBnQnzROW4zdn91xICKmTu7UTHaFDmR/6Zb5OQ=">
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69">
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>

					    
					    <a name="_articleTop" id="_articleTop"></a>
					    <div class="title">
					        <h1 id="ctl00_ArticleTitle">Performing a SAML Post with C#</h1>
					    </div>

                        <div>
					        
					        <div class="entry flex-container">

								<div id="ctl00_avatarWrap" class="avatar-wrap align-center">
									<img src="./Performing a SAML Post with C# - CodeProject_files/{ab7cc1ef-26ae-4dd6-883f-3d8360ee9382}.jpg" id="ctl00_avatar" class="avatar">
								</div>

                                <div class="flex-item" style="flex:1 1 auto">
                                    <div class="flex-container" style="justify-content:space-between;flex-wrap:wrap-reverse">
                                       <span id="ctl00_Authors" class="author flex-item"><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1332212" rel="author">David W Speight</a></span> 

                                        <div class="flex-item" style="margin-top:-4px;">
                                            <div id="ctl00_RateArticle_RatingTable" class="small-text" data-objectref="2_56640_17">

	<meta itemprop="upvoteCount" content="54">


	<div id="ctl00_RateArticle_RatingRow" class="flex-container rating-container large-stars">

					
		<div id="ctl00_RateArticle_Prompt" class="rating-prompt nowrap">Rate me:</div>

		
		<div class="nowrap tooltip">

			
			
			

			
			<div id="ctl00_RateArticle_RatingHistWrap" class="tooltip">

				
				<div id="ctl00_RateArticle_ResultWithHist" class="rating-result"><div class="flex-container rating-stars large-stars"><div><img src="./Performing a SAML Post with C# - CodeProject_files/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Performing a SAML Post with C# - CodeProject_files/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Performing a SAML Post with C# - CodeProject_files/star-fill-lg.png" style="width:24px;height:24px"></div><div><img src="./Performing a SAML Post with C# - CodeProject_files/star-fill-lg.png" style="width:24px;height:24px"></div><div style="width:21px;" class="clipped"><img src="./Performing a SAML Post with C# - CodeProject_files/star-fill-lg.png" style="width:24px;height:24px"></div><div style="width:3px;position:relative" class="clipped"><img src="./Performing a SAML Post with C# - CodeProject_files/star-empty-lg.png" style="width:24px;height:24px;position:absolute;top:0px;right:0"></div></div></div>
				

				<div class="speech-bubble-container-up-right" style="width:170px">
					<div class="speech-bubble-up-right">
						<div class="histogram"></div>
					</div>
					<div class="speech-bubble-pointer-up-right">
						<div class="speech-bubble-pointer-up-right-inner"></div>
					</div>
				</div>
			</div>

			
            

			
            <span id="ctl00_RateArticle_RatingSignin" class="speech-bubble-container-down">
		        <div class="speech-bubble-down">
                    Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C">Sign up or sign in</a> 
                    to vote.
		        </div>
		        <div class="speech-bubble-pointer-down">
			        <div class="speech-bubble-pointer-down-inner"></div>
		        </div>
	        </span>    

		</div>
		
	
		
		<div id="ctl00_RateArticle_VoteCountNoHist" class="rating-votes nowrap">4.88/5  (56 votes)</div>	

		

		
		<div class="rating-undo" title="Undo vote" style="margin-left:5px;display:none"></div>

		
		
	</div>

	
	

</div>

                                        </div>
                                    </div>

                                    <div class="flex-container">
                                        <span id="ctl00_LastUpdated" class="date flex-item-tight" title="Date last updated">7 Mar 2010</span><a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license flex-item-tight" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><span id="ctl00_ReadingTime" class="stats flex-item-tight">8 min read</span>
                                    </div>
                                </div>
					        </div>

                            

                        </div>

                        <div id="ctl00_DescriptionSpot" class="summary">Code performing a SAML Post which can be used for Single Sign On applications</div><span id="ctl00_ThumbnailUrl" class="date" content="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/Thumbnail.png"></span>			

                    </div>
                    
					
					

					

					
					

					
					
					
					

						
					

					

						
						<div id="contentdiv" class="text">
						



<ul class="download">
	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/Entire_Source.zip">Download source - 816.2 KB</a></li>	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/saml_source.zip">Download source - 1.1 MB</a></li>	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/saml_demoapp.zip">Download demo - 235.3 KB</a></li>	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/saml_runtime.zip">Download saml_runtime.zip - 93.1 KB</a></li></ul>

<p>========= Updated 06/01/2020 ===========</p>

<ul class="download">
	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/davidsp8.common.Security.Saml_Runtime_06012020.zip">Download davidsp8.common.Security.Saml_Runtime_06012020.zip - 824.4 KB</a></li>	<li><a href="https://www.codeproject.com/KB/aspnet/DotNetSamlPost/davidsp8.common.Security.Saml_WithSource_06012020.zip">Download davidsp8.common.Security.Saml_WithSource_06012020.zip - 7.1 MB</a></li>	<br>
</ul>

<p><img src="./Performing a SAML Post with C# - CodeProject_files/CodeProjThum.png" style="width: 700px; height: 693px"></p>

<h2>Introduction</h2>

<p>SAML (Security Assertion Markup Language) is an XML and protocol standard used mostly in federated identity situations. For the most part, you will see SAML used with Single Sign On implementations. Basically, it is a standard way of passing authentication information securely across domain boundaries.</p>

<p>One of the common ways to pass SAML parameters is via an HTTP POST parameter. The .NET framework has all of the components necessary to accomplish this. There are also packages and components that you can purchase that literally does the same thing. However, knowing several key points will allow you to do this yourself.</p>

<h2>Background</h2>

<p>Several terms will be used throughout this article which are used in many SAML Single Sign On implementations.</p>

<ul>
	<li><strong>Identity Provider</strong>: This is the site or organization where the user's identity originates from. Typically in a SSO scenario, wherever the user enters in his/her credentials is the Identity Provider.</li>	<li><strong>Service Provider</strong>: This is the site or organization where the user is Single Signing On to.</li>	<li><strong>Browser/Post</strong> method: This method uses a simple HTTP POST to pass the payload. The payload is simply a POST parameter which is a base64 encoded XML string. This XML sting is protected by being signed with an X509 Certificate utilizing the WS-Security standard.</li>	<li><strong>Browser/Artifact</strong> profile method: This method initiates a session that notifies the target to call back to get the payload.</li></ul>

<p>SAML has two main ways to communicate. One way is utiltizing the <em>Browser/Post</em> profile and the other uses a <em>Browser/Artifact</em> profile. This article will outline the simpler, less secure <em>Browser/Post</em> method. For more information on SAML: <a href="http://wiki.oasis-open.org/security">SAML Wiki</a>. For more information on signing XML: <a href="http://www.w3.org/TR/xmldsig-core/">W3C XML Signature Standards site</a>.</p>

<h2>Overview of the Code</h2>

<p>In order to accomplish a SAML post, the overall process will take place by accomplishing three major steps:</p>

<ul>
	<li>An XML transaction will built based on the XML standard.</li>	<li>The XML will need to be signed.</li>	<li>And finally, the entire string will be Base64 encoded.</li></ul>

<h3>Building the XML based on the standard</h3>

<p>This step is actually the easiest and also the most tedious task. The .NET Framework comes with a tool which can read XSD Schemas and generate .NET classes. These classes can then be serialized into XML. Note that there are actually three schemas being imported. The first schema is used for signing the document, and the SAML standard has two schemas: one used for protocols, and the other for assertions. These XSDs were downloaded from the each of the particular standards website.</p>

<div class="pre-lang" id="premain31206"><div>XML</div><div class="pre-action-link"><span id="copycode31206" class="copy-code" data-index="31206" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre31206" style="margin-top:0;" class="lang-xml notranslate" data-language="xml" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">// Create the schema classes using the .Net command line
// utility, pass in the three schemas which will be used
xsd.exe xmldsig-core-schema.xsd xenc-core-schema.xsd 
    saml-schema-assertion-2.0.xsd  saml-schema-protocol-2.0.xsd 
    /classes /namespace:davidsp8.common.Security.Saml20 /outputdir:..</pre>

<p>Once the classes are created, the task of building the XML can be started. In SAML terms, when you build a message, you build two main XML nodes. The main node is the <code>Response</code> node, and the other is the <code>Assertion</code> node. The following is an example of what a SAML Response tag might look like:</p>

<div class="pre-lang" id="premain850618"><div>XML</div><div class="pre-action-link"><span id="copycode850618" class="copy-code" data-index="850618" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre850618" style="margin-top:0;" class="lang-xml notranslate" data-language="xml" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Response</span><span class="code-attribute"> </span><span class="code-attribute">xmlns:xsi</span><span class="code-keyword">="</span><span class="code-keyword">http://www.w3.org/2001/XMLSchema-instance"</span><span class="code-attribute"> 
     </span><span class="code-attribute">xmlns:xsd</span><span class="code-keyword">="</span><span class="code-keyword">http://www.w3.org/2001/XMLSchema"</span><span class="code-attribute"> 
     </span><span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">_d4809d44-9f6b-46cd-bcd1-9fe5dce33cd8"</span><span class="code-attribute"> 
     </span><span class="code-attribute">Version</span><span class="code-keyword">="</span><span class="code-keyword">2.0"</span><span class="code-attribute"> </span><span class="code-attribute">IssueInstant</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:25:09.765625Z"</span><span class="code-attribute"> 
     </span><span class="code-attribute">Destination</span><span class="code-keyword">="</span><span class="code-keyword">http://www.davidsp8.com/SSO.asmx"</span><span class="code-attribute"> 
     </span><span class="code-attribute">xmlns</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:protocol"</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Issuer</span><span class="code-attribute"> </span><span class="code-attribute">xmlns</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="code-keyword">&gt;</span>davidsp8.com:idp<span class="code-keyword">&lt;</span><span class="code-leadattribute">/Issuer</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Status</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">StatusCode</span><span class="code-attribute"> </span><span class="code-attribute">Value</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:status:Success"</span><span class="code-attribute"> </span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">/Status</span><span class="code-keyword">&gt;</span>
  ....
<span class="code-keyword">&lt;</span><span class="code-leadattribute">/Response</span><span class="code-keyword">&gt;</span></pre>

<p>Creating the above node is as simple as building some classes that were created by running the XSD utility. Note that all <code>DateTime</code> values are passing UTC <code>DateTime</code> values.</p>

<div class="pre-lang" id="premain535589"><div>C#</div><div class="pre-action-link"><span id="copycode535589" class="copy-code" data-index="535589" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre535589" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">ResponseType response = <span class="code-keyword">new</span> ResponseType();
<span class="code-comment">//</span><span class="code-comment"> Response Main Area</span>
response.ID = <span class="code-string">"</span><span class="code-string">_"</span> + Guid.NewGuid().ToString();
response.Destination = recipient;
response.Version= <span class="code-string">"</span><span class="code-string">2.0"</span>;
response.IssueInstant = System.DateTime.UtcNow;

NameIDType issuerForResponse = <span class="code-keyword">new</span> NameIDType();
issuerForResponse.Value = issuer.Trim();
        
response.Issuer = issuerForResponse;

StatusType status = <span class="code-keyword">new</span> StatusType();

status.StatusCode = <span class="code-keyword">new</span> StatusCodeType();
status.StatusCode.Value = 
  <span class="code-string">"</span><span class="code-string">urn:oasis:names:tc:SAML:2.0:status:Success"</span>;

response.Status = status;</pre>

<p>Now, we'll need to create an <code>Assertion</code>. Technically, any SAML Response can have more than one Assertion. However in our example, we'll only be creating one. The Assertion typically contains data necessary to authenticate the user. It also contains Conditions that dictate how long the Assertion is valid. Here's an example of what an Assertion might look like.</p>

<div class="pre-lang" id="premain247463"><div>XML</div><div class="pre-action-link"><span class="code-collapse" data-index="247463" id="preShrink247463">Shrink </span> &nbsp; <span id="copycode247463" class="copy-code" data-index="247463" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre247463" style="margin-top:0;" class="lang-xml notranslate" data-language="xml" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Assertion</span><span class="code-attribute"> </span><span class="code-attribute">Version</span><span class="code-keyword">="</span><span class="code-keyword">2.0"</span><span class="code-attribute"> 
        </span><span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">_18d9be83-4e26-4c47-825a-5df08b0ebdf8"</span><span class="code-attribute"> 
        </span><span class="code-attribute">IssueInstant</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:25:10.75Z"</span><span class="code-attribute"> 
        </span><span class="code-attribute">xmlns</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:assertion"</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">Issuer</span><span class="code-keyword">&gt;</span>davidsp8.com:idp<span class="code-keyword">&lt;</span><span class="code-leadattribute">/Issuer</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">Subject</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">NameID</span><span class="code-attribute"> </span><span class="code-attribute">NameQualifier</span><span class="code-keyword">="</span><span class="code-keyword">davidsp8.com"</span><span class="code-keyword">&gt;</span>test<span class="code-keyword">&lt;</span><span class="code-leadattribute">/NameID</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">SubjectConfirmation</span><span class="code-attribute"> </span><span class="code-attribute">Method</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:cm:bearer"</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">SubjectConfirmationData</span><span class="code-attribute"> 
          </span><span class="code-attribute">NotOnOrAfter</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:30:10.7812500Z"</span><span class="code-attribute"> 
          </span><span class="code-attribute">Recipient</span><span class="code-keyword">="</span><span class="code-keyword">http://www.davidsp8.com/SSO.asmx"</span><span class="code-attribute"> </span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">/SubjectConfirmation</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/Subject</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">Conditions</span><span class="code-attribute"> </span><span class="code-attribute">NotBefore</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:25:10.75Z"</span><span class="code-attribute"> 
        </span><span class="code-attribute">NotOnOrAfter</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:30:10.75Z"</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">AudienceRestriction</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">Audience</span><span class="code-keyword">&gt;</span>davidsp8.com<span class="code-keyword">&lt;</span><span class="code-leadattribute">/Audience</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">/AudienceRestriction</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/Conditions</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">AuthnStatement</span><span class="code-attribute"> </span><span class="code-attribute">AuthnInstant</span><span class="code-keyword">="</span><span class="code-keyword">2010-02-05T02:25:10.75Z"</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">AuthnContext</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">AuthnContextClassRef</span><span class="code-keyword">&gt;</span>AuthnContextClassRef<span class="code-keyword">&lt;</span><span class="code-leadattribute">/AuthnContextClassRef</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">/AuthnContext</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/AuthnStatement</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">AttributeStatement</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">Attribute</span><span class="code-attribute"> </span><span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">email"</span><span class="code-attribute"> 
            </span><span class="code-attribute">NameFormat</span><span class="code-keyword">="</span><span class="code-keyword">urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">AttributeValue</span><span class="code-attribute"> </span><span class="code-attribute">xsi:type</span><span class="code-keyword">="</span><span class="code-keyword">xsd:string"</span><span class="code-keyword">&gt;</span>a@bcdef.com<span class="code-keyword">&lt;</span><span class="code-leadattribute">/AttributeValue</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">/Attribute</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/AttributeStatement</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">/Assertion</span><span class="code-keyword">&gt;</span></pre>

<p>Again, we'll use the classes we created using the <em>XSD.exe</em> utility. Conditions are added, most notably the <code>NotBefore</code> and the <code>NotOnOrAfter</code> variables. Together, these variables are used to validate the Assertion.</p>

<div class="pre-lang" id="premain907740"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="907740" id="preShrink907740">Shrink </span> &nbsp; <span id="copycode907740" class="copy-code" data-index="907740" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre907740" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-comment">//</span><span class="code-comment"> Here we create some SAML assertion with ID and Issuer name. </span>
AssertionType assertion = <span class="code-keyword">new</span> AssertionType();
assertion.ID = <span class="code-string">"</span><span class="code-string">_"</span> + Guid.NewGuid().ToString();

NameIDType issuerForAssertion = <span class="code-keyword">new</span> NameIDType();
issuerForAssertion.Value = issuer.Trim();

assertion.Issuer = issuerForAssertion;
assertion.Version = <span class="code-string">"</span><span class="code-string">2.0"</span>;

assertion.IssueInstant = System.DateTime.UtcNow;

<span class="code-comment">//</span><span class="code-comment">Not before, not after conditions </span>
ConditionsType conditions = <span class="code-keyword">new</span> ConditionsType();
conditions.NotBefore = DateTime.UtcNow;
conditions.NotBeforeSpecified = <span class="code-keyword">true</span>;
conditions.NotOnOrAfter = DateTime.UtcNow.AddMinutes(<span class="code-digit">5</span>);
conditions.NotOnOrAfterSpecified = <span class="code-keyword">true</span>;

AudienceRestrictionType audienceRestriction = 
                        <span class="code-keyword">new</span> AudienceRestrictionType();
audienceRestriction.Audience = <span class="code-keyword">new</span> string[] { domain.Trim() };

conditions.Items = <span class="code-keyword">new</span> ConditionAbstractType[] {audienceRestriction};</pre>

<p>The Subject is built. The SAML Subject is typically some kind of unique identifier used by the identity provider. It's usually used to tie back to a particular user. For example, if an SSO is occurring from Company A to Company B, often, the Subject would contain Company A's user ID. This would provide a tie back to the user performing the SSO. More on SAML Subject can be found in the SAML Standard.</p>

<div class="pre-lang" id="premain82498"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="82498" id="preShrink82498">Shrink </span> &nbsp; <span id="copycode82498" class="copy-code" data-index="82498" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre82498" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-comment">//</span><span class="code-comment">Name Identifier to be used in Saml Subject</span>
NameIDType nameIdentifier = <span class="code-keyword">new</span> NameIDType();
nameIdentifier.NameQualifier = domain.Trim();
nameIdentifier.Value = subject.Trim();

SubjectConfirmationType subjectConfirmation = 
                        <span class="code-keyword">new</span> SubjectConfirmationType();
SubjectConfirmationDataType subjectConfirmationData = 
                            <span class="code-keyword">new</span> SubjectConfirmationDataType();
        
subjectConfirmation.Method= <span class="code-string">"</span><span class="code-string">urn:oasis:names:tc:SAML:2.0:cm:bearer"</span>;
subjectConfirmation.SubjectConfirmationData = subjectConfirmationData;
<span class="code-comment">//</span><span class="code-comment"> </span>
<span class="code-comment">//</span><span class="code-comment"> Create some SAML subject. </span>
SubjectType samlSubject = <span class="code-keyword">new</span> SubjectType();

AttributeStatementType attrStatement = <span class="code-keyword">new</span> AttributeStatementType();
AuthnStatementType authStatement = <span class="code-keyword">new</span> AuthnStatementType();
authStatement.AuthnInstant = DateTime.UtcNow;
AuthnContextType context = <span class="code-keyword">new</span> AuthnContextType();
context.ItemsElementName = 
  <span class="code-keyword">new</span> ItemsChoiceType5[] { ItemsChoiceType5.AuthnContextClassRef };
context.Items = <span class="code-keyword">new</span> object[] { <span class="code-string">"</span><span class="code-string">AuthnContextClassRef"</span> };
authStatement.AuthnContext = context;
                    
samlSubject.Items = <span class="code-keyword">new</span> object[] { nameIdentifier, subjectConfirmation };

assertion.Subject = samlSubject;</pre>

<p>The Subject locality identifies where the transaction originated from.</p>

<div class="pre-lang" id="premain235332"><div>C#</div><div class="pre-action-link"><span id="copycode235332" class="copy-code" data-index="235332" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre235332" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">IPHostEntry ipEntry =
    Dns.GetHostEntry(System.Environment.MachineName);

SubjectLocalityType subjectLocality = <span class="code-keyword">new</span> SubjectLocalityType();
subjectLocality.Address  = ipEntry.AddressList[0].ToString();</pre>

<p>Each SAML Assertion typically has attributes that are sent to the Service Provider to assist in identifying the user. Typically, these attributes are a combination of attributes that uniquely identify the user.</p>

<div class="pre-lang" id="premain961257"><div>C#</div><div class="pre-action-link"><span id="copycode961257" class="copy-code" data-index="961257" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre961257" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">attrStatement.Items = <span class="code-keyword">new</span> AttributeType[attributes.Count];
<span class="code-keyword">int</span> i = <span class="code-digit">0</span>;
<span class="code-comment">//</span><span class="code-comment"> Create userName SAML attributes. </span>
<span class="code-keyword">foreach</span> (KeyValuePair&lt;string,&gt; attribute <span class="code-keyword">in</span> attributes) {
    AttributeType attr = <span class="code-keyword">new</span> AttributeType();
    attr.Name = attribute.Key;
    attr.NameFormat = <span class="code-string">"</span><span class="code-string">urn:oasis:names:tc:SAML:2.0:attrname-format:basic"</span>;
    attr.AttributeValue = <span class="code-keyword">new</span> object[] { attribute.Value };
    attrStatement.Items[i] = attr;
    i++;
}<span class="code-keyword">&lt;/</span><span class="code-leadattribute">string,</span><span class="code-keyword">&gt;</span></pre>

<p>Finally, we finish the assertion.</p>

<div class="pre-lang" id="premain419942"><div>C#</div><div class="pre-action-link"><span id="copycode419942" class="copy-code" data-index="419942" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre419942" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">assertion.Conditions = conditions;
assertion.Items = 
  <span class="code-keyword">new</span> StatementAbstractType[] { authStatement, attrStatement };
<span class="code-keyword">return</span> assertion;</pre>

<h3>Siging the XML</h3>

<p>Now that we've built a Response and an Assertion, we have a complete message which is ready to be sent. Before sending, we need to sign the XML with a certificate. This certificate would be one that we hold the private key to, and the Service Provider that we are sending this post to will need to verify the validity of our message using this same certificate. The SAML Standard also allows for signing the assertion. For this particular example, we are only signing the Response.</p>

<div class="pre-lang" id="premain600351"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="600351" id="preShrink600351">Shrink </span> &nbsp; <span id="copycode600351" class="copy-code" data-index="600351" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre600351" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">public</span> <span class="code-keyword">static</span> XmlElement SignDoc(XmlDocument doc, X509Certificate2 cert2, <span class="code-keyword">string</span> referenceId, <span class="code-keyword">string</span> referenceValue) {
&nbsp; &nbsp; SamlSignedXml sig = <span class="code-keyword">new</span> SamlSignedXml(doc, referenceId);
&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Add the key to the SignedXml xmlDocument.&nbsp;</span>
&nbsp; &nbsp; sig.SigningKey = cert2.PrivateKey;

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Create a reference to be signed.&nbsp;</span>
&nbsp; &nbsp; Reference reference = <span class="code-keyword">new</span> Reference();

&nbsp; &nbsp; reference.Uri = <span class="code-sdkkeyword">String</span>.Empty;
&nbsp; &nbsp; reference.Uri = <span class="code-string">"</span><span class="code-string">#"</span> + referenceValue;

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Add an enveloped transformation to the reference.&nbsp;</span>
&nbsp; &nbsp; XmlDsigEnvelopedSignatureTransform env = <span class="code-keyword">new</span>
&nbsp; &nbsp;     XmlDsigEnvelopedSignatureTransform();

&nbsp; &nbsp; XmlDsigExcC14NTransform env2 = <span class="code-keyword">new</span> XmlDsigExcC14NTransform();
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; reference.AddTransform(env);
&nbsp; &nbsp; reference.AddTransform(env2);

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Add the reference to the SignedXml object.&nbsp;</span>
&nbsp; &nbsp; sig.AddReference(reference);

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Add an RSAKeyValue KeyInfo (optional; helps recipient find key to validate).&nbsp;</span>
&nbsp; &nbsp; KeyInfo keyInfo = <span class="code-keyword">new</span> KeyInfo();
&nbsp; &nbsp; KeyInfoX509Data keyData = <span class="code-keyword">new</span> KeyInfoX509Data(cert2);

&nbsp; &nbsp; keyInfo.AddClause(keyData);
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;
&nbsp; &nbsp; sig.KeyInfo = keyInfo;

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Compute the signature.&nbsp;</span>
&nbsp; &nbsp; sig.ComputeSignature();

&nbsp; &nbsp; <span class="code-comment">//</span><span class="code-comment"> Get the XML representation of the signature and save it to an XmlElement object.&nbsp;</span>
&nbsp; &nbsp; XmlElement xmlDigitalSignature = sig.GetXml();

&nbsp; &nbsp; <span class="code-keyword">return</span> xmlDigitalSignature;
}</pre>

<p>You will notice in the above code that we are using our own implementation of the <code>SignedXml</code> object provided by the framework. This is because without this code, <code>ComputeSignature</code> will fail for our ID reference.</p>

<p>The following code will ensure that while the document is getting signed, the correct reference is created.</p>

<div class="pre-lang" id="premain758571"><div>C#</div><div class="pre-action-link"><span id="copycode758571" class="copy-code" data-index="758571" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre758571" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">public</span> <span class="code-keyword">class</span> SamlSignedXml : SignedXml {
    <span class="code-keyword">private</span> <span class="code-keyword">string</span> _referenceAttributeId = <span class="code-string">"</span><span class="code-string">"</span>;
    <span class="code-keyword">public</span> SamlSignedXml(XmlDocument document, 
                 <span class="code-keyword">string</span> referenceAttributeId) : <span class="code-keyword">base</span>(document) {
        _referenceAttributeId = referenceAttributeId;
    }
    <span class="code-keyword">public</span> <span class="code-keyword">override</span> XmlElement GetIdElement(
        XmlDocument document, <span class="code-keyword">string</span> idValue) {
        <span class="code-keyword">return</span> (XmlElement)
            document.SelectSingleNode(
                <span class="code-keyword">string</span>.Format(<span class="code-string">"</span><span class="code-string">//*[@{0}='{1}']"</span>, 
                _referenceAttributeId, idValue));
    }
}</pre>

<p>At this point, either the Response or the Assertion is signed. Based on the SAML standard, either method is acceptable.</p>

<div class="pre-lang" id="premain233123"><div>C#</div><div class="pre-action-link"><span id="copycode233123" class="copy-code" data-index="233123" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre233123" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true">XmlElement signature =
    SigningHelper.SignDoc(doc, cert, <span class="code-string">"</span><span class="code-string">ID"</span>, 
    signatureType == SigningHelper.SignatureType.Response ? response.ID : assertionType.ID);</pre>

<p>In the end, the entire code is exposed via the following <code>SamlHelper</code>. It's worth mentioning that the entire code so far has been SAML version 2.0. The code which can be downloaded with this article can also build a SAML 1.1 Response.</p>

<div class="pre-lang" id="premain750106"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="750106" id="preShrink750106">Shrink </span> &nbsp; <span id="copycode750106" class="copy-code" data-index="750106" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre750106" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">summary</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> GetPostSamlResponse - Returns a Base64 Encoded String with the SamlResponse in it.
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/summary</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="recipient"</span><span class="code-summarycomment">&gt;</span>Recipient<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="issuer"</span><span class="code-summarycomment">&gt;</span>Issuer<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="domain"</span><span class="code-summarycomment">&gt;</span>Domain<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="subject"</span><span class="code-summarycomment">&gt;</span>Subject<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="storeLocation"</span><span class="code-summarycomment">&gt;</span>Certificate Store Location<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="storeName"</span><span class="code-summarycomment">&gt;</span>Certificate Store Name<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="findType"</span><span class="code-summarycomment">&gt;</span>Certificate Find Type<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="certLocation"</span><span class="code-summarycomment">&gt;</span>Certificate Location<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="findValue"</span><span class="code-summarycomment">&gt;</span>Certificate Find Value<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="certFile"</span><span class="code-summarycomment">&gt;</span>Certificate File 
</span><span class="code-summarycomment">///</span><span class="code-comment"> (used instead of the above Certificate Parameters)<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="certPassword"</span><span class="code-summarycomment">&gt;</span>Certificate Password 
</span><span class="code-summarycomment">///</span><span class="code-comment"> (used instead of the above Certificate Parameters)<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="attributes"</span><span class="code-summarycomment">&gt;</span>A list of attributes to pass<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">param</span><span class="code-summarycomment"> </span><span class="code-summarycomment">name="signatureType"</span><span class="code-summarycomment">&gt;</span>Whether to sign Response or Assertion<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/param</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-summarycomment">///</span><span class="code-comment"> <span class="code-summarycomment">&lt;</span><span class="code-summarycomment">returns</span><span class="code-summarycomment">&gt;</span>A base64Encoded string with a SAML response.<span class="code-summarycomment">&lt;</span><span class="code-summarycomment">/returns</span><span class="code-summarycomment">&gt;</span>
</span><span class="code-keyword">public</span> <span class="code-keyword">static</span> <span class="code-keyword">string</span> GetPostSamlResponse(<span class="code-keyword">string</span> recipient, 
	<span class="code-keyword">string</span> issuer, <span class="code-keyword">string</span> domain, <span class="code-keyword">string</span> subject,
	StoreLocation storeLocation, StoreName storeName, X509FindType findType, 
	<span class="code-keyword">string</span> certFile, <span class="code-keyword">string</span> certPassword, <span class="code-keyword">object</span> findValue,
    	Dictionary&lt;string, string&gt; attributes, 
	SigningHelper.SignatureType signatureType)</pre>

<h3>Running the Demo Application</h3>

<p>The demo application is a WinForms application. I've done this because I need to often issue a post from a given server. So making a WinForms application makes it easy to move around and test.</p>

<p><img src="./Performing a SAML Post with C# - CodeProject_files/CodeProjThum.png" style="width: 700px; height: 693px"></p>

<p>In order to run the demo application, you need to be able to SSO into a site that is SAML aware.&nbsp;</p>

<ul>
	<li><strong>Version</strong>: The demo application can generate both version 1.1 and 2.0 of SAML.&nbsp;</li>	<li><strong>Issuer</strong>: A unique ID of the person/organization that is issuing the SAML request. For demonstration purposes, this can be any unique value. Typically, it's an ID of the Identity Provider.</li>	<li><strong>Recipient</strong>: This should be the endpoint that is expecting the SAML post.&nbsp;</li>	<li><strong>Target</strong>: Typically, this is the target you'd like the user directed to.</li>	<li><strong>Domain</strong>: This is the domain of the Service Provider. The Service Provider may require that this be a certain value.</li>	<li><strong>Subject</strong>: The subject is often used to tie a user back to the user account from the Identity Provider. Often, it's the user ID of the user on the Identity Provider.</li>	<li><strong>Signature Certificate</strong>: The certificate can be any certificate that you hold the private key for. This is an important part of the overall security of SAML. In the demo application's case, what will happen is that the certificate will be sent along with the request. The request's signature will be validated, then the user will set up an account. During account setup, the certificate will be saved with the user account, and any subsequent requests will be validated against this certificate. Generally, this certificate is not transmitted this way. There usually is a manual exchange between the entities.</li>	<li><strong>Encryption Certificate</strong>: The certificate can be any certificate that you have the public key for. The Service Provider must have the private key to decrypt.</li>	<li><strong>Attributes:</strong>&nbsp;Will be the attributes required by the Service Provider.</li></ul>

<p>To create a self signed certificate, use PowerShell command "New-SelfSignedCertificate":</p>

<div class="pre-lang" id="premain944195"><div> </div><div class="pre-action-link"><span id="copycode944195" class="copy-code" data-index="944195" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre944195" style="margin-top:0;" data-language="text" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true" class="notranslate">New-SelfSignedCertificate -CertStoreLocation Cert:\CurrentUser\My 
&nbsp;    -subject &lt;your name here&gt; -KeyExportPolicy Exportable 
&nbsp;    -NotAfter (Get-Date).AddYears(1) -Type CodeSigningCert -KeySpec Signature</pre>

<p>In the demo application, select the "Select Certificate" button and enter the following values: Store Location=CurrentUser, Store Name=Root, FindMethod=FindBySubjectName, FindValue=&lt;your name here&gt;.</p>

<p>The demo application makes use of the <code>WebBrowser</code> control so that the entire demo can be ran from the WinForms application. The first time you access the site, you will be prompted to register a user.</p>

<p>In a typical SSO scenario, this user creation either happens by transferring the common user account to the service provider via some kind of data feed, or some sort of "private" information known to the user is requested to verify their identity. Both of these methods adds a layer of security on top of the bare SSO solution.</p>

<h2>Using the Code</h2>

<p>Using the code in an ASP.NET application is a little harder to execute than outlined here. This is because the framework does not really have an easy way to perform an HTTP POST programmatically. There are several ways to accomplish this. I usually use the JavaScript submit method.</p>

<p>To use the code, develop your application as you typically would. Develop a page which will perform the SSO and place two <code>asp:input</code> controls on the page. For SAML 2.0, the control names should be <code>SAMLResponse</code> and <code>RelayState</code>. Place a <code>div</code> tag around the input fields, and set the <code>style</code> to "display:none" so that it will not show to the user.</p>

<div class="pre-lang" id="premain614829"><div>ASP.NET</div><div class="pre-action-link"><span id="copycode614829" class="copy-code" data-index="614829" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre614829" style="margin-top:0;" class="lang-asp.net notranslate" data-language="aspnet" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">&lt;</span><span class="code-leadattribute">body</span><span class="code-attribute"> </span><span class="code-attribute">runat</span><span class="code-keyword">="</span><span class="code-keyword">server"</span><span class="code-attribute"> </span><span class="code-attribute">id</span><span class="code-keyword">="</span><span class="code-keyword">bodySSO"</span><span class="code-attribute">
    </span><span class="code-attribute">&lt;form</span><span class="code-attribute"> </span><span class="code-attribute">id</span><span class="code-keyword">="</span><span class="code-keyword">frmSSO"</span><span class="code-attribute"> </span><span class="code-attribute">runat</span><span class="code-keyword">="</span><span class="code-keyword">server"</span><span class="code-attribute"> </span><span class="code-attribute">enableviewstate</span><span class="code-keyword">="</span><span class="code-keyword">False"</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">center</span><span class="code-keyword">&gt;</span><span class="code-keyword">&lt;</span><span class="code-leadattribute">img</span><span class="code-attribute"> </span><span class="code-attribute">src</span><span class="code-keyword">="</span><span class="code-keyword">http://www.codeproject.com/Images/Progress.gif"</span><span class="code-attribute"> 
       </span><span class="code-attribute">alt</span><span class="code-keyword">="</span><span class="code-keyword">Redirecting to external site..."</span><span class="code-attribute"> </span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span><span class="code-keyword">&lt;</span><span class="code-leadattribute">/center</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">center</span><span class="code-keyword">&gt;</span><span class="code-keyword">&lt;</span><span class="code-leadattribute">asp:Label</span><span class="code-attribute"> </span><span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">lblMessage"</span><span class="code-attribute"> </span><span class="code-attribute">runat</span><span class="code-keyword">="</span><span class="code-keyword">server"</span><span class="code-attribute"> 
           </span><span class="code-attribute">Text</span><span class="code-keyword">="</span><span class="code-keyword">Redirecting to external site..."</span><span class="code-attribute"> 
           </span><span class="code-attribute">EnableViewState</span><span class="code-keyword">="</span><span class="code-keyword">False"</span><span class="code-keyword">&gt;</span><span class="code-keyword">&lt;</span><span class="code-leadattribute">/asp:Label</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">br</span><span class="code-attribute"> </span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/center</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">div</span><span class="code-attribute"> </span><span class="code-attribute">style</span><span class="code-keyword">="</span><span class="code-keyword">display:none"</span><span class="code-attribute"> </span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">input</span><span class="code-attribute"> </span><span class="code-attribute">id</span><span class="code-keyword">="</span><span class="code-keyword">SAMLResponse"</span><span class="code-attribute"> </span><span class="code-attribute">type</span><span class="code-keyword">="</span><span class="code-keyword">text"</span><span class="code-attribute"> 
           </span><span class="code-attribute">runat</span><span class="code-keyword">="</span><span class="code-keyword">server"</span><span class="code-attribute"> </span><span class="code-attribute">enableviewstate</span><span class="code-keyword">="</span><span class="code-keyword">False"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">input</span><span class="code-attribute"> </span><span class="code-attribute">id</span><span class="code-keyword">="</span><span class="code-keyword">RelayState"</span><span class="code-attribute"> </span><span class="code-attribute">type</span><span class="code-keyword">="</span><span class="code-keyword">text"</span><span class="code-attribute"> 
           </span><span class="code-attribute">runat</span><span class="code-keyword">="</span><span class="code-keyword">server"</span><span class="code-attribute"> </span><span class="code-attribute">enableviewstate</span><span class="code-keyword">="</span><span class="code-keyword">False"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/div</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">/form</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">/body</span><span class="code-keyword">&gt;</span></pre>

<p>Then, in the <code>Page_Load</code> event, set the appropriate fields, and call the helper function to get the <code>SamlResponse</code> variable.</p>

<div class="pre-lang" id="premain247265"><div>C#</div><div class="pre-action-link"><span class="code-collapse" data-index="247265" id="preShrink247265">Shrink </span> &nbsp; <span id="copycode247265" class="copy-code" data-index="247265" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre247265" style="margin-top:0;" class="lang-csharp notranslate" data-language="cs" data-allowshrink="True" data-collapse="False" data-codeblock-processed="true"><span class="code-keyword">protected</span> <span class="code-keyword">void</span> Page_Load(<span class="code-keyword">object</span> sender, EventArgs e) {
    <span class="code-comment">//</span><span class="code-comment"> Set Relay State</span>
    RelayState.Value = <span class="code-string">"</span><span class="code-string">http://www.davidsp8.com"</span>;
    <span class="code-comment">//</span><span class="code-comment"> Set Attrs</span>
    Dictionary&lt;string,&gt; attrs = <span class="code-keyword">new</span> Dictionary&lt;string,&gt;();
    attrs.Add(<span class="code-string">"</span><span class="code-string">Email"</span>, Session[<span class="code-string">"</span><span class="code-string">Email"</span>].ToString());
    <span class="code-comment">//</span><span class="code-comment"> Set SAML Response</span>
    SAMLResponse.Value =
        SamlHelper.GetPostSamlResponse(
        <span class="code-string">"</span><span class="code-string">http://www.davidsp8.com/SSO.asmx"</span>, 
        <span class="code-string">"</span><span class="code-string">davidsp8.com:sp"</span>, 
        <span class="code-string">"</span><span class="code-string">davidsp8.com"</span>, 
        <span class="code-string">"</span><span class="code-string">localuserid"</span>,
        StoreLocation.LocalMachine, StoreName.Root, 
          X509FindType.FindByThumbprint, <span class="code-keyword">null</span>, <span class="code-keyword">null</span>,
          <span class="code-string">"</span><span class="code-string">41fe9204effd0d8c5e65a1de3a507da1383fd14f"</span>, attrs);

    <span class="code-comment">//</span><span class="code-comment">Set Form Action</span>
    <span class="code-keyword">this</span>.frmSSO.Action = <span class="code-string">"</span><span class="code-string">http://www.davidsp8.com/SSO.asmx"</span>;
            
    <span class="code-comment">//</span><span class="code-comment"> Add OnLoad Logic so that form will be submitted.</span>
    HtmlGenericControl body = 
      (HtmlGenericControl)<span class="code-keyword">this</span>.Page.FindControl(<span class="code-string">"</span><span class="code-string">bodySSO"</span>);
    <span class="code-keyword">if</span> (body != <span class="code-keyword">null</span>) {
        body.Attributes.Add(<span class="code-string">"</span><span class="code-string">onload"</span>, 
           <span class="code-string">"</span><span class="code-string">document.forms.frmSSO.submit();"</span>);
    }
}</pre>

<h2>Points of Interest</h2>

<p>When deciding on how to do this, I took several approaches which did not all work. The first approach I took was to use classes that exist in the framework. The .NET Framework version 3.5 has an <code>Assertion</code> class. This class will serialize a SAML assertion. However, there does not seem to be a Response class in the framework so the response would need to be added manually. Also, the <code>Assertion</code> class required that the assertion be signed, but the SAML standard does not require this.</p>

<p>There is much more to SAML. For example, in version 2.0, the attributes can be encrypted.</p>

<h2>History</h2>

<ul>
	<li>9<sup>th</sup> February, 2010: Initial post</li>	<li>7<sup>th</sup> March, 2010: Article updated</li>	<li>1st June, 2020: Article udpated</li></ul>


						</div>
						

						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						<h2>Share</h2>
				        <div class="share-list">
					        

    <ul class="rrssb-buttons clearfix rrssb-1">
        <li id="ctl00_SocialLike_Email" class="email compact">
            <a href="mailto:?subject=Performing%20a%20SAML%20Post%20with%20C%23%20-%20CodeProject&amp;body=Here%27s%20an%20interesting%20article%20on%20for%20you%20on%20codeproject.com%0a%0aCode%20performing%20a%20SAML%20Post%20which%20can%20be%20used%20for%20Single%20Sign%20On%20applications%0a%0ahttps%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C%0a">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <g>
                            <path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 
                                c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 
                                9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 
                                0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 
                                7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 
                                0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 
                                26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 
                                1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"></path>
                        </g>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Twitter" class="twitter compact">
            <a href="http://twitter.com/home?status=Performing+a+SAML+Post+with+C%23+-+CodeProject+-+https%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
                        c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
                        C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
                        C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
                        c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
                        C26.275,7.229,25.39,8.196,24.253,8.756z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Facebook" class="facebook compact">
            
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
                            c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
                            c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_LinkedIn" class="linkedin compact">
            <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C&amp;title=Performing+a+SAML+Post+with+C%23+-+CodeProject&amp;summary=Code+performing+a+SAML+Post+which+can+be+used+for+Single+Sign+On+applications&amp;source=codeproject.com" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803
                            c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048
                            h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501
                            c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546
                            C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Reddit" class="reddit compact">
            <a href="http://www.reddit.com/submit?url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C&amp;title=Performing+a+SAML+Post+with+C%23+-+CodeProject">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g>
                    <path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"></path>
                    <path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"></path>
                    <path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 
                    c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 
                    4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 
                    19.5 17.8 19.5 17.5 19.791z"></path><path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 
                    0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 
                    2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 
                    0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 
                    2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 
                    8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 
                    3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 
                    13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 
                    13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 
                    c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 
                    0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 
                    c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 
                    C26.354 13.8 26.1 14.3 25.8 14.605z"></path></g></svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Pinterest" class="pinterest compact">
            <a href="http://pinterest.com/pin/create/bookmarklet/?is_video=false&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C&amp;description=Performing+a+SAML+Post+with+C%23+-+CodeProject">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785
                        C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458
                        c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557
                        c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168
                        C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239
                        c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"></path>
                    </svg>
                </span>
                
            </a>
        </li>

    </ul>



				        </div> 
    			        
                        <h2 id="ctl00_AboutHeading">About the Author</h2>
						    

<div class="author-wrapper">

    <div class="pic-wrapper"> 
        <img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="./Performing a SAML Post with C# - CodeProject_files/{ab7cc1ef-26ae-4dd6-883f-3d8360ee9382}.jpg" style="border-width:0px;transform:rotate(3deg);">
    </div>

    <div class="container-member">  
        <b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="https://www.codeproject.com/Members/David-W-Speight">David W Speight</a></b>

        <table>
        <tbody><tr>
            <td rowspan="2" nowrap="" valign="middle">
            
            </td>
            <td nowrap="nowrap">
                <div class="company">
                    <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Other</span>
	                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany"></span>
                </div>
            </td>
            <td rowspan="2" style="padding-left:15px">
                
            </td>
        </tr>
        <tr>
            <td>
                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">United States <img src="./Performing a SAML Post with C# - CodeProject_files/US.gif" alt="United States" width="16" height="11"></span>
            </td>
        </tr>
        </tbody></table>
    </div>

    <div class="description">
        Currently working for a leading healthcare benefits software provider.  Current focus is on .Net development and other tools to solve complex business connectivity needs.  Active knowledge in C#, ASP.NET, SSRS, SSIS, JAVA, WCF, Soap Web Services, Biztalk and Single Sign On technologies.

        
    </div>

</div><br>
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

					

				    
					</form>

				</div>

				
				<div class="bottom-promo"> 
				    <div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Web-DevelopmentASP-NET" data-country="US" data-loadonview="true" data-tags="C#, ASP.NET, .NET, Architect, Dev, Intermediate,rating4.5,pos_bottom"><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=728x90&c=482765"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=728x90&c=482765"  width="728px" height="90px" target="_blank"/></a></noscript></div>
				</div>
				
                
                

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(event, null)">
<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="header1"><div class="callout">
	<b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C%3ffid%3d1559783%26df%3d90%26mpp%3d25%26sort%3dPosition%26view%3dNormal%26spc%3dRelaxed%26prof%3dTrue">Sign In</a> to use this message board.</b>
</div></td>
</tr><tr>
<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
<tbody><tr class="header1">
<td colspan="2" style="white-space:nowrap;"><div class="container">
<div class="float-right">
<form action="https://www.codeproject.com/Search.aspx?sbo=fm" method="get" class="searchbar">
<input type="hidden" name="fid" value="1559783"><input type="hidden" name="sbo" value="fm"><input id="search_forumCtrl_ctl00_MessageBoard" type="search" class="search subdue" autocomplete="off" name="q"><input type="image" src="./Performing a SAML Post with C# - CodeProject_files/search.gif">
</form>
</div>
</div></td>
</tr><tr class="header2">
<td></td><td style="width:100%;"><div style="text-align:right;">
<form action="https://www.codeproject.com/script/Forums/SetOptions.aspx?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1559783"><input type="hidden" name="currentQS" value="fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f56640%2fPerforming-a-SAML-Post-with-C"><input type="hidden" name="floc" value="/Articles/56640/Performing-a-SAML-Post-with-C">Spacing<select size="1" class="dropdown" name="spc">
<option selected="" value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
<option selected="" value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option value="Thread">Thread View</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
<option value="10">10</option><option selected="" value="25">25</option><option value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button">
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tbody><tr class="navbar">
<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;fr=26#xx0xx">Next</a></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background msg-list">
<tbody><tr id="F5841937_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5841937xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5841937" parent="0" thread="5841937" href="https://www.codeproject.com/Messages/5841937/SAML-Response-which-is-created-with-the-Azure-acti">SAML Response which is created with the Azure active directory credentials and URLs not working but the same application working with proper SAML Response</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">ramkrishnareddy00710</span><span class="date">8-Nov-21  20:39</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=10535819">ramkrishnareddy00710</a></span></td><td class="date"><span>8-Nov-21  20:39&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5841937_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi David,<br>
<br>
I have created Azure SAML tool kit for testing the application..<br>
i took the response that is created in SAML Tool kit in the sample application and post the assertion manually is working fine.<br>
<br>
But the problem is when I generating the response with the same parameters and post the assertion is not working.<br>
<br>
can you help me on this<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5841937" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5841937" name="react-item_5841937" id="MRF5841937" class="reaction-result"></span><span data-objectref="3_5841937" data-votingtype="GoodOrBad" name="RateItem_5841937" id="MVF5841937" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5841937/SAML-Response-which-is-created-with-the-Azure-acti" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5834640_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5834640xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5834640" parent="0" thread="5834640" href="https://www.codeproject.com/Messages/5834640/SSO-asmx">SSO.asmx</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 15288816</span><span class="date">29-Sep-21  1:48</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=15288816">Member 15288816</a></span></td><td class="date"><span>29-Sep-21  1:48&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5834640_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hello,<br>
Thanks for this code. <br>
Please share SP code and SSO.asmx code to faddoul.antoine@gmail.com<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5834640" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5834640" name="react-item_5834640" id="MRF5834640" class="reaction-result"></span><span data-objectref="3_5834640" data-votingtype="GoodOrBad" name="RateItem_5834640" id="MVF5834640" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5834640/SSO-asmx" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5808260_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5808260xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5808260" parent="0" thread="5808260" href="https://www.codeproject.com/Messages/5808260/How-to-change-signature-method-from-sha-256-to-sha">How to change signature method from sha-256 to sha1</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 11818240</span><span class="date">27-May-21  22:39</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=11818240">Member 11818240</a></span></td><td class="date"><span>27-May-21  22:39&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5808260_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi,<br>
Thank you for your post.<br>
I have picked and choose your code, run it, but when compare to the original code, my generated Signature Method is <div class="pre-lang" id="premain377785"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="377785" id="preShrink377785">Shrink </span> &nbsp; <span id="copycode377785" class="copy-code" data-index="377785" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre377785" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">SignatureMethod Algorithm=<span class="code-string">"</span><span class="code-string">http://www.w3.org/2001/04/xmldsig-more#rsa-sha256</span></pre><br>
which is different with the original code generated, which is sha1.<br>
<br>
My question, how to change the signature method to sha1 ?<br>
<br>
Much appreciate.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5808260" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5808260" name="react-item_5808260" id="MRF5808260" class="reaction-result"></span><span data-objectref="3_5808260" data-votingtype="GoodOrBad" name="RateItem_5808260" id="MVF5808260" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5808260/How-to-change-signature-method-from-sha-256-to-sha" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5781254_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5781254xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5781254" parent="0" thread="5781254" href="https://www.codeproject.com/Messages/5781254/SSO-asmx-code">SSO.asmx code</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Luiscperu</span><span class="date">27-Jan-21  11:41</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=2853309">Luiscperu</a></span></td><td class="date"><span>27-Jan-21  11:41&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5781254_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi David:<br>
<br>
Great, Great article, no doubts about it. I wanted to ask you if it would be possible for you to send the sso.asmx code, in order for me to complete a Proof of Concept test ?<br>
<br>
I' appreciate your help. My email is lcardenas@lctr365.com<br>
<br>
Thank you very much.<br>
<br>
Luis.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5781254" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5781254" name="react-item_5781254" id="MRF5781254" class="reaction-result"></span><span data-objectref="3_5781254" data-votingtype="GoodOrBad" name="RateItem_5781254" id="MVF5781254" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5781254/SSO-asmx-code" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5760182_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5760182xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5760182" parent="0" thread="5760182" href="https://www.codeproject.com/Messages/5760182/SSO-asmx">SSO.asmx</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Kiril Fabisevich</span><span class="date">3-Nov-20  21:32</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=14970962">Kiril Fabisevich</a></span></td><td class="date"><span>3-Nov-20  21:32&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5760182_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi, is it possible to the SSO.asmx file?<br>
please send it to kirilikf@gmail.com<br>
Thanks!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5760182" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5760182" name="react-item_5760182" id="MRF5760182" class="reaction-result"></span><span data-objectref="3_5760182" data-votingtype="GoodOrBad" name="RateItem_5760182" id="MVF5760182" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5760182/SSO-asmx" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5731372_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5731372xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5731372" parent="0" thread="5731372" href="https://www.codeproject.com/Messages/5731372/Can-you-elaborate-on-the-purpose-of-SamlSignedXml">Can you elaborate on the purpose of SamlSignedXml?</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">xr280xr</span><span class="date">23-Jun-20  10:47</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=2245421">xr280xr</a></span></td><td class="date"><span>23-Jun-20  10:47&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5731372_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I know it's been a long time but can you elaborate on the need for SamlSignedXml - what the problem is with SignedXml and what this is doing to fix it? I see Sustainsys.Saml2 doing something similar but haven't figured it out yet. Thanks!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5731372" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5731372" name="react-item_5731372" id="MRF5731372" class="reaction-result"></span><span data-objectref="3_5731372" data-votingtype="GoodOrBad" name="RateItem_5731372" id="MVF5731372" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5731372/Can-you-elaborate-on-the-purpose-of-SamlSignedXml" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5731391_h0" class="header hover-row">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx5731391xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_answer.gif" alt="Answer" title="Answer"></td><td class="subject hover-container"><a class="message-link" name="5731391" parent="5731372" thread="5731372" href="https://www.codeproject.com/Messages/5731391/Re-Can-you-elaborate-on-the-purpose-of-SamlSignedX">Re: Can you elaborate on the purpose of SamlSignedXml?</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">David W Speight</span><span class="date">23-Jun-20  13:49</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1332212">David W Speight</a></span></td><td class="date"><span>23-Jun-20  13:49&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5731391_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,5731372);" href="https://www.codeproject.com/Messages/5731372/Can-you-elaborate-on-the-purpose-of-SamlSignedXml"><img src="./Performing a SAML Post with C# - CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>If my memory is correct, when I wrote this code, the SignedXml class in the framework did not allow for signing a portion of the xml or signing by id.  <br>
<br>
So I overrode the class so to provide that functionality.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5731372" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5731391" name="react-item_5731391" id="MRF5731391" class="reaction-result"></span><span data-objectref="3_5731391" data-votingtype="GoodOrBad" name="RateItem_5731391" id="MVF5731391" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5731391/Re-Can-you-elaborate-on-the-purpose-of-SamlSignedX" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5728640_h0" class="header hover-row root">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5728640xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5728640" parent="0" thread="5728640" href="https://www.codeproject.com/Messages/5728640/Not-sure-if-this-is-what-Im-looking-for">Not sure if this is what I'm looking for</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 14858023</span><span class="date">9-Jun-20  3:21</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=14858023">Member 14858023</a></span></td><td class="date"><span>9-Jun-20  3:21&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5728640_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I'm trying to setup a website to be the IdP in a SSO scenario. Will this code example help me do that? It's all terribly confusing at the code level for me. I understand the premise of SSO and SAML, but there's very little help in executing.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5728640" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5728640" name="react-item_5728640" id="MRF5728640" class="reaction-result"></span><span data-objectref="3_5728640" data-votingtype="GoodOrBad" name="RateItem_5728640" id="MVF5728640" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5728640/Not-sure-if-this-is-what-Im-looking-for" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5729094_h0" class="header hover-row">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx5729094xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_answer.gif" alt="Answer" title="Answer"></td><td class="subject hover-container"><a class="message-link" name="5729094" parent="5728640" thread="5728640" href="https://www.codeproject.com/Messages/5729094/Re-Not-sure-if-this-is-what-Im-looking-for">Re: Not sure if this is what I'm looking for</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">David W Speight</span><span class="date">10-Jun-20  12:55</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1332212">David W Speight</a></span></td><td class="date"><span>10-Jun-20  12:55&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5729094_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,5728640);" href="https://www.codeproject.com/Messages/5728640/Not-sure-if-this-is-what-Im-looking-for"><img src="./Performing a SAML Post with C# - CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>You could. In the downloads there are libraries that will generate a SAML Response. See the "Using the code" section. If you're the IDP and you want to generate what's called an "Unsolicited Response", this code closely mimics that. <br>
<br>
There are other more complicated scenarios where the SP initiates the conversation and sends you a request (AuthnRequest) and after you authenticate the user you send back and SAML Response. <br>
<br>
For the unsolicited Response, you'll need a certificate that you have the private key for. You'll need to either load it locally in the Windows Key store, or you'll need it in a file that is password protected. Then you'd call generate the response by calling the following method; <br>
<br>
<div class="pre-lang" id="premain541405"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="541405" id="preShrink541405">Shrink </span> &nbsp; <span id="copycode541405" class="copy-code" data-index="541405" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre541405" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate"><span class="code-keyword">public</span> <span class="code-keyword">static</span> <span class="code-keyword">string</span> GetPostSamlResponse(<span class="code-keyword">string</span> recipient, 
	<span class="code-keyword">string</span> issuer, <span class="code-keyword">string</span> domain, <span class="code-keyword">string</span> subject,
	StoreLocation storeLocation, StoreName storeName, X509FindType findType, 
	<span class="code-keyword">string</span> certFile, <span class="code-keyword">string</span> certPassword, <span class="code-keyword">object</span> findValue,
    	Dictionary&lt;string, string&gt; attributes, 
	SigningHelper.SignatureType signatureType)</pre><br>
<br>
Then you'd take this value and POST it to the SP's SAML Endpoint.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5728640" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5729094" name="react-item_5729094" id="MRF5729094" class="reaction-result"></span><span data-objectref="3_5729094" data-votingtype="GoodOrBad" name="RateItem_5729094" id="MVF5729094" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5729094/Re-Not-sure-if-this-is-what-Im-looking-for" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5709100_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5709100xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5709100" parent="0" thread="5709100" href="https://www.codeproject.com/Messages/5709100/Status-code-for-failure">Status code for failure</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Steven  M. King</span><span class="date">25-Mar-20  5:26</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=895639">Steven  M. King</a></span></td><td class="date"><span>25-Mar-20  5:26&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5709100_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">In your your sample code the file SamlHelper has a StatusCode of <div class="pre-lang" id="premain541405"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="541405" id="preShrink541405">Shrink </span> &nbsp; <span id="copycode541405" class="copy-code" data-index="541405" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre541405" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">urn:oasis:names:tc:SAML:<span class="code-digit">2</span>.<span class="code-digit">0</span>:status:Success</pre>. However, what if we need to indicate failure, e.g., the credentials provided were incorrect? Wouldn't we need to define one for <div class="pre-lang" id="premain493473"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="493473" id="preShrink493473">Shrink </span> &nbsp; <span id="copycode493473" class="copy-code" data-index="493473" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre493473" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">urn:oasis:names:tc:SAML:<span class="code-digit">2</span>.<span class="code-digit">0</span>:status:AuthnFailed</pre> as well (and/or others)?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5709100" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5709100" name="react-item_5709100" id="MRF5709100" class="reaction-result"></span><span data-objectref="3_5709100" data-votingtype="GoodOrBad" name="RateItem_5709100" id="MVF5709100" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5709100/Status-code-for-failure" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5630256_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5630256xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5630256" parent="0" thread="5630256" href="https://www.codeproject.com/Messages/5630256/SSO-asmx-web-service-code">SSO.asmx web service code</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">ronaldtsang88</span><span class="date">21-May-19  9:40</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=5470627">ronaldtsang88</a></span></td><td class="date"><span>21-May-19  9:40&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5630256_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I am looking for the SSO.asmx web service code. Please send me to ronaldtsang88@gmail.com.<br>
can I use visual studio 2005 to rewrite your sample code.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5630256" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5630256" name="react-item_5630256" id="MRF5630256" class="reaction-result"></span><span data-objectref="3_5630256" data-votingtype="GoodOrBad" name="RateItem_5630256" id="MVF5630256" class="rating-result"><span>1.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5630256/SSO-asmx-web-service-code" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5564034_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5564034xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5564034" parent="0" thread="5564034" href="https://www.codeproject.com/Messages/5564034/SSO-asmx">SSO.asmx</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 12396335</span><span class="date">19-Oct-18  10:20</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=12396335">Member 12396335</a></span></td><td class="date"><span>19-Oct-18  10:20&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5564034_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I am looking for the SSO.asmx web service code. Please send me to mihir123j@gmail.com.<br>
<br>
Thanks<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5564034" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5564034" name="react-item_5564034" id="MRF5564034" class="reaction-result"></span><span data-objectref="3_5564034" data-votingtype="GoodOrBad" name="RateItem_5564034" id="MVF5564034" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5564034/SSO-asmx" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5547189_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5547189xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5547189" parent="0" thread="5547189" href="https://www.codeproject.com/Messages/5547189/David-Great-article">David,  Great article.</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">baoquocyen2004</span><span class="date">19-Aug-18  21:16</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1212864">baoquocyen2004</a></span></td><td class="date"><span>19-Aug-18  21:16&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5547189_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">David,<br>
<br>
Great article.<br>
<br>
Could you also send me any service provider code, IDP code and SSO.asmx.cs you might have. <br>
My email is baoquocyen2004@gmail.com.<br>
<br>
Thank you, <br>
BaoNguyen<br>
<div class="signature">nqb77</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5547189" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5547189" name="react-item_5547189" id="MRF5547189" class="reaction-result"></span><span data-objectref="3_5547189" data-votingtype="GoodOrBad" name="RateItem_5547189" id="MVF5547189" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5547189/David-Great-article" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5546095_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5546095xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5546095" parent="0" thread="5546095" href="https://www.codeproject.com/Messages/5546095/Missing-solution-components">Missing solution components</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">jamescollett</span><span class="date">15-Aug-18  4:18</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1266758">jamescollett</a></span></td><td class="date"><span>15-Aug-18  4:18&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5546095_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">The solution has a Solution folder listing a bunch of files, one of which is a .bat file. This .bat file and the other files in the folder, are not present. Is this intentional?<br>
<br>
Also, there seems to be a step implied in the build which does not resolve - something to do with a ThirdParty Assemblies folder, something called ilmerge and what appears to be a catch-al "All" DLL file. Is this why I cannot compile the code?<br>
<br>
I cannot get the project to compile. I think parts of it are missing. I know the article is 10 years old, but does anyone has any advice?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5546095" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5546095" name="react-item_5546095" id="MRF5546095" class="reaction-result"></span><span data-objectref="3_5546095" data-votingtype="GoodOrBad" name="RateItem_5546095" id="MVF5546095" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5546095/Missing-solution-components" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5545896_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5545896xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5545896" parent="0" thread="5545896" href="https://www.codeproject.com/Messages/5545896/Build-failed-could-not-run-application">Build failed - could not run application</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">jamescollett</span><span class="date">14-Aug-18  7:19</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1266758">jamescollett</a></span></td><td class="date"><span>14-Aug-18  7:19&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5545896_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">This project promises to do practically everything I am vainly attempting to do - namely create a SAML response, sign it and then base 64 encode it.<br>
<br>
I have the source, opened up in Visual Studio 2008 (that's what it chose). Compilation fails with the  error below. <img src="./Performing a SAML Post with C# - CodeProject_files/smiley_confused.gif" align="top" alt="Confused | :confused:"> <br>
<br>
What trick am I missing?<br>
<br>
<b>Compilation Error:-</b><br>
<div class="pre-lang" id="premain182600"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="182600" id="preShrink182600">Shrink </span> &nbsp; <span id="copycode182600" class="copy-code" data-index="182600" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre182600" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">Error	<span class="code-digit">1</span>	The command <span class="code-string">"</span><span class="code-string">"</span>D:\Miscellaneous\\Code Project Example\Saml_Source\Source\davidsp8.windows.PostSamlAssertion\..\ThirdPartyAssemlies\ilmerge<span class="code-string">"</span><span class="code-string"> /out:D:\Miscellaneous\\Code Project Example\Saml_Source\Source\davidsp8.windows.PostSamlAssertion\..\..\Runtime\davidsp8.common.Security.Saml.All.dll D:\Miscellaneous\\Code Project Example\Saml_Source\Source\davidsp8.windows.PostSamlAssertion\..\davidsp8.common.Security.Saml\bin\Release\davidsp8.common.Security.Saml.dll D:\Miscellaneous\\Code Project Example\Saml_Source\Source\davidsp8.windows.PostSamlAssertion\..\davidsp8.common.Security.Saml11\bin\Release\davidsp8.common.Security.Saml11.dll D:\Miscellaneous\\Code Project Example\Saml_Source\Source\davidsp8.windows.PostSamlAssertion\..\davidsp8.common.Security.Saml20\bin\Release\davidsp8.common.Security.Saml20.dll"</span> exited with code <span class="code-digit">1</span>.	davidsp8.windows.PostSamlAssertion</pre><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5545896" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5545896" name="react-item_5545896" id="MRF5545896" class="reaction-result"></span><span data-objectref="3_5545896" data-votingtype="GoodOrBad" name="RateItem_5545896" id="MVF5545896" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5545896/Build-failed-could-not-run-application" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5633361_h0" class="header hover-row">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx5633361xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_answer.gif" alt="Answer" title="Answer"></td><td class="subject hover-container"><a class="message-link" name="5633361" parent="5545896" thread="5545896" href="https://www.codeproject.com/Messages/5633361/Re-Build-failed-could-not-run-application">Re: Build failed - could not run application</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">maniprajan</span><span class="date">4-Jun-19  0:10</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=7508982">maniprajan</a></span></td><td class="date"><span>4-Jun-19  0:10&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5633361_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,5545896);" href="https://www.codeproject.com/Messages/5545896/Build-failed-could-not-run-application"><img src="./Performing a SAML Post with C# - CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>i am also get same issue. any one please give me the solution .<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5545896" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5633361" name="react-item_5633361" id="MRF5633361" class="reaction-result"></span><span data-objectref="3_5633361" data-votingtype="GoodOrBad" name="RateItem_5633361" id="MVF5633361" class="rating-result"><span>5.00/5 (2 votes)</span></span><a href="https://www.codeproject.com/Messages/5633361/Re-Build-failed-could-not-run-application" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5635993_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="38px" class="indent"><a name="xx5635993xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_answer.gif" alt="Answer" title="Answer"></td><td class="subject hover-container"><a class="message-link" name="5635993" parent="5545896" thread="5545896" href="https://www.codeproject.com/Messages/5635993/Re-Build-failed-could-not-run-application">Re: Build failed - could not run application</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 13157924</span><span class="date">13-Jun-19  23:18</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=13157924">Member 13157924</a></span></td><td class="date"><span>13-Jun-19  23:18&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5635993_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow noopener" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,5545896);" href="https://www.codeproject.com/Messages/5545896/Build-failed-could-not-run-application"><img src="./Performing a SAML Post with C# - CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Rebuild all source code in your local system and build this Compilation Error is resolve, this error show because sam11... class are not build in project, by rebuild my local my this error is resolve.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5545896" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5635993" name="react-item_5635993" id="MRF5635993" class="reaction-result"></span><span data-objectref="3_5635993" data-votingtype="GoodOrBad" name="RateItem_5635993" id="MVF5635993" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5635993/Re-Build-failed-could-not-run-application" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5539611_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5539611xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_kudos.gif" alt="Praise" title="Praise"></td><td class="subject hover-container"><a class="message-link" name="5539611" parent="0" thread="5539611" href="https://www.codeproject.com/Messages/5539611/SSO-asmx-code">SSO.asmx code</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Mitul Birla</span><span class="date">22-Jul-18  18:58</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=10316563">Mitul Birla</a></span></td><td class="date"><span>22-Jul-18  18:58&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5539611_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Great article David.<br>
I am new to Saml based authentication, so if you could send me the web service code it would be really helpful.<br>
My email ID is mitulbirla@gmail.com<br>
<br>
Thanks in advance<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5539611" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5539611" name="react-item_5539611" id="MRF5539611" class="reaction-result"></span><span data-objectref="3_5539611" data-votingtype="GoodOrBad" name="RateItem_5539611" id="MVF5539611" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5539611/SSO-asmx-code" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5529025_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5529025xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5529025" parent="0" thread="5529025" href="https://www.codeproject.com/Messages/5529025/Encrypted-Assertion">Encrypted Assertion</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Fred206</span><span class="date">15-Jun-18  10:26</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=4841383">Fred206</a></span></td><td class="date"><span>15-Jun-18  10:26&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5529025_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">I found your code years ago and implemented it for an SSO integration and it has worked great.<br>
<br>
We have a new SSO integration I need to implement and this time there is a wrinkle, the actual assertion is encrypted (saml:EncryptedAssertion).  The original code is failing when I try to Deserialize the xml. <br>
<br>
code: assertion = (AssertionType)serializer.Deserialize(reader);<br>
Error: InvalidOperationException: &lt;encryptedassertion xmlns="urn:oasis:names:tc:SAML:2.0:assertion"&gt; was not expected.<br>
<br>
Have you done any work with an EncryptedAssertion?<br>
<br>
Any help would be appreciated.<br>
<br>
Thanks<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5529025" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5529025" name="react-item_5529025" id="MRF5529025" class="reaction-result"></span><span data-objectref="3_5529025" data-votingtype="GoodOrBad" name="RateItem_5529025" id="MVF5529025" class="rating-result"><span>1.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5529025/Encrypted-Assertion" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5519683_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5519683xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5519683" parent="0" thread="5519683" href="https://www.codeproject.com/Messages/5519683/SP-ASMX-Code">SP ASMX Code</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 13389404</span><span class="date">14-May-18  3:57</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=13389404">Member 13389404</a></span></td><td class="date"><span>14-May-18  3:57&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5519683_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi,<br>
<br>
Great article<br>
<br>
Please can anyone send me the SSO.asmx code or any other similar example on the SP side ?<br>
This is my e-mail redibega@hotmail.com<br>
<br>
Thanks in advance !<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5519683" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5519683" name="react-item_5519683" id="MRF5519683" class="reaction-result"></span><span data-objectref="3_5519683" data-votingtype="GoodOrBad" name="RateItem_5519683" id="MVF5519683" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5519683/SP-ASMX-Code" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5510601_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5510601xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5510601" parent="0" thread="5510601" href="https://www.codeproject.com/Messages/5510601/Help-on-SAML-for-Healthcare-project">Help on SAML for Healthcare project</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">Member 3064135</span><span class="date">15-Apr-18  4:10</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=3064135">Member 3064135</a></span></td><td class="date"><span>15-Apr-18  4:10&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5510601_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">David, <br>
I am wondering if you will be avail for consulting work on a healthcare project related to SAML and CCDA? If yes, please email me jinpin@hotmail.com<br>
<br>
Thanks<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5510601" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5510601" name="react-item_5510601" id="MRF5510601" class="reaction-result"></span><span data-objectref="3_5510601" data-votingtype="GoodOrBad" name="RateItem_5510601" id="MVF5510601" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5510601/Help-on-SAML-for-Healthcare-project" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5496867_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5496867xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5496867" parent="0" thread="5496867" href="https://www.codeproject.com/Messages/5496867/service-provider-ASMX">service provider ASMX</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">favoweb</span><span class="date">5-Mar-18  1:33</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=1541943">favoweb</a></span></td><td class="date"><span>5-Mar-18  1:33&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5496867_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi David,<br>
<br>
Great article<br>
 <br>
Could you also send me any service provider code and IDP code you might have. <br>
<br>
My email is chen@ald.co.il<br>
<br>
Thank you, <br>
chen<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5496867" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5496867" name="react-item_5496867" id="MRF5496867" class="reaction-result"></span><span data-objectref="3_5496867" data-votingtype="GoodOrBad" name="RateItem_5496867" id="MVF5496867" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5496867/service-provider-ASMX" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5493001_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5493001xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5493001" parent="0" thread="5493001" href="https://www.codeproject.com/Messages/5493001/In-need-of-service-provider-code-to-understand-the">In need of service provider code to understand the complete SSO workflow</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">prxmxd</span><span class="date">22-Feb-18  7:24</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=12623986">prxmxd</a></span></td><td class="date"><span>22-Feb-18  7:24&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5493001_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hello David,<br>
<br>
This article is really good and very informative. Your step by step in explanation helped me understand the usage of SAML. Now I would like to understand the complete SSO workflow. Could you please share me your Service provider code and SSO.asmx implementation?<br>
 <br>
My email: prxmxd@gmail.com<br>
<br>
I really appreciate it.<br>
<br>
Regards,<br>
PRG<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5493001" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5493001" name="react-item_5493001" id="MRF5493001" class="reaction-result"></span><span data-objectref="3_5493001" data-votingtype="GoodOrBad" name="RateItem_5493001" id="MVF5493001" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5493001/In-need-of-service-provider-code-to-understand-the" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5466326_h0" class="header hover-row root">
<td class="subject-line normal vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5466326xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5466326" parent="0" thread="5466326" href="https://www.codeproject.com/Messages/5466326/Newer-version">Newer version</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">PiyushVarma</span><span class="date">13-Dec-17  12:56</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=112220">PiyushVarma</a></span></td><td class="date"><span>13-Dec-17  12:56&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5466326_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2">Hi David,<br>
<br>
Is there a VB.NET version please? And is there a newer version of the solution for VS2013?<br>
<br>
Thank you,<br>
<br>
Piyush Varma<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5466326" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5466326" name="react-item_5466326" id="MRF5466326" class="reaction-result"></span><span data-objectref="3_5466326" data-votingtype="GoodOrBad" name="RateItem_5466326" id="MVF5466326" class="rating-result"><span>5.00/5 (1 vote)</span></span><a href="https://www.codeproject.com/Messages/5466326/Newer-version" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F5434738_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td width="20px" class="indent"><a name="xx5434738xx"></a><img height="16px" width="16px" align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" alt="Question" title="Question"></td><td class="subject hover-container"><a class="message-link" name="5434738" parent="0" thread="5434738" href="https://www.codeproject.com/Messages/5434738/SAML-SSO-for-SP-and-IDP">SAML SSO for SP and IDP</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#" title="Click to pin message"><img src="./Performing a SAML Post with C# - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a><div class="mobile-only">
	<span class="author">pixeltrace</span><span class="date">13-Sep-17  15:18</span>
</div></td><td class="icon"><img border="0" src="./Performing a SAML Post with C# - CodeProject_files/icn-member-16.gif" title="Member" alt="Member" height="16px"></td><td class="author"><span><a href="https://www.codeproject.com/script/Membership/View.aspx?mid=5108974">pixeltrace</a></span></td><td class="date"><span>13-Sep-17  15:18&nbsp;</span></td>
</tr>
</tbody></table></td>
</tr><tr id="F5434738_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tbody><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td colspan="2"><div class="pre-lang" id="premain987415"><div></div><div class="pre-action-link"><span class="code-collapse" data-index="987415" id="preShrink987415">Shrink </span> &nbsp; <span id="copycode987415" class="copy-code" data-index="987415" style="visibility: visible;">Copy Code</span></div></div>
<pre id="pre987415" style="margin-top:0;" data-allowshrink="True" datacollapse="False" data-codeblock-processed="true" class="notranslate">David,

Great article. 
Could you also send me any service provider code and IDP code you might have. 

pixeltrace@gmail.com

Thank you, 
Ray</pre><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/56640/Performing-a-SAML-Post-with-C" rel="nofollow noopener">Sign In</a><wbr><a href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5434738" title="ViewThread" rel="nofollow noopener">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5434738" name="react-item_5434738" id="MRF5434738" class="reaction-result"></span><span data-objectref="3_5434738" data-votingtype="GoodOrBad" name="RateItem_5434738" id="MVF5434738" class="rating-result"></span><a href="https://www.codeproject.com/Messages/5434738/SAML-SSO-for-SP-and-IDP" title="Get permanent link" style="border:0 !important" rel="nofollow noopener"><img src="./Performing a SAML Post with C# - CodeProject_files/link32.png" style="width:14px;height:14px;border:0"></a>&nbsp;</td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="footer">
<td><span class="last-visit desktop-only tablet-only">Last Visit: 12-Oct-20  18:20 &nbsp; &nbsp; Last Update: 2-Jun-22  17:52</span></td><td><a rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26"><span class="nav-link selected">1</span><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26#xx0xx">2</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=51#xx0xx">3</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=76#xx0xx">4</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=101#xx0xx">5</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=126#xx0xx">6</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=151#xx0xx">7</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=176#xx0xx">8</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=201#xx0xx">9</a><a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=226#xx0xx">10</a> <a class="nav-link" name="Frm_HoverNL" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?fid=1559783&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=26#xx0xx">Next </a></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table>
</div><p class="small-text"><img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_general.gif" width="16px" height="16px" alt="General"> General &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_news.gif" width="16px" height="16px" alt="News"> News &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_idea.gif" width="16px" height="16px" alt="Suggestion"> Suggestion &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_question.gif" width="16px" height="16px" alt="Question"> Question &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_bug.gif" width="16px" height="16px" alt="Bug"> Bug &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_answer.gif" width="16px" height="16px" alt="Answer"> Answer &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_joke.gif" width="16px" height="16px" alt="Joke"> Joke &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_kudos.gif" width="16px" height="16px" alt="Praise"> Praise &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_rant.gif" width="16px" height="16px" alt="Rant"> Rant &nbsp;&nbsp; <img align="top" src="./Performing a SAML Post with C# - CodeProject_files/msg_admin.gif" width="16px" height="16px" alt="Admin"> Admin &nbsp;&nbsp; </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>
				

			</div>
			

            
            <div id="ctl00_RightSideBar" class="article-right-sidebar">

				

                <div id="ctl00_RHSticky" class="container-article-info-sticky padded-top sticky">

					<div class="padded-top" style="height:250px;width:300px">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="senseai" data-country="US" data-tags="C#, ASP.NET, .NET, Architect, Dev, Intermediate,rating4.5"><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/senseai&sz=300x250&c=795370"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/senseai&sz=300x250&c=795370"  width="300px" height="250px" target="_blank"/></a></noscript><div id="div-gpt-ad-lqm.codeproject.site/senseai-3" data-google-query-id="CLbciZazkPgCFZKz7AodVK8Flw" style="height: 250px; width: 300px; box-sizing: border-box; border: 0px; font-size: 0px;"><div id="google_ads_iframe_/6839/lqm.codeproject.site/senseai_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/6839/lqm.codeproject.site/senseai_0" name="google_ads_iframe_/6839/lqm.codeproject.site/senseai_0" title="3rd party ad content" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" role="region" aria-label="Advertisement" tabindex="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="1" data-load-complete="true" src="./Performing a SAML Post with C# - CodeProject_files/saved_resource.html"></iframe></div></div></div>
					</div>

        		    

<div class="article-summary">

    
    

</div>

				    

                    

				    

				    

					<div class="padded-top" style="height:250px;width:300px">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Web-DevelopmentASP-NET" data-country="US" data-loadonview="true" data-tags="C#, ASP.NET, .NET, Architect, Dev, Intermediate,rating4.5"><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=300x250&c=795370"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Web-DevelopmentASP-NET&sz=300x250&c=795370"  width="300px" height="250px" target="_blank"/></a></noscript><div id="div-gpt-ad-lqm.codeproject.site/Web-DevelopmentASP-NET-4" data-google-query-id="CL3iiZazkPgCFZwT-QAdTCMBOw" style="height: 250px; width: 300px; box-sizing: border-box; border: 0px; font-size: 0px;"><div id="google_ads_iframe_/6839/lqm.codeproject.site/Web-DevelopmentASP-NET_0__container__" style="border: 0pt none;"><iframe id="google_ads_iframe_/6839/lqm.codeproject.site/Web-DevelopmentASP-NET_0" name="google_ads_iframe_/6839/lqm.codeproject.site/Web-DevelopmentASP-NET_0" title="3rd party ad content" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" role="region" aria-label="Advertisement" tabindex="0" style="border: 0px; vertical-align: bottom;" data-google-container-id="2" data-load-complete="true" src="./Performing a SAML Post with C# - CodeProject_files/saved_resource(1).html"></iframe></div></div></div>
					</div>

                    <div class="anchorLink gototop" id="gototop">
                        <a id="ctl00_GoToTop" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C#_articleTop">Go to top</a>
                    </div>

			    </div>
            </div>
            

        </div>
        

		
		<div class="site-footer">
			<div class="align-left">
				<a id="ctl00_PermaLink" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C">Permalink</a><br>
				<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a><br>
				<a id="ctl00_PrivacyLink" href="https://www.codeproject.com/info/privacy.aspx">Privacy</a><br>
    			<a id="ctl00_CookiePolicyLink" href="https://www.codeproject.com/info/cookie.aspx">Cookies</a><br>
                <a id="ctl00_TermsOfUseLink" href="https://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a><br>
			</div>

            <div class="align-center">
				


<div class="page-width">
    Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?PageFlow=FixedWidth">fixed</a>
    |
    <a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="https://www.codeproject.com/Articles/56640/Performing-a-SAML-Post-with-C?PageFlow=Fluid">fluid</a>
</div>


				

				

	            

                <br>
			</div>
                
			<div class="align-right">
				Article Copyright 2010 by David W Speight<br>Everything else
				Copyright  <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2022 <br>
                <br>
				Web04 
				2.8.2022.05.26.1<br>
			</div>
		</div>
		

		<br clear="all">
		
			

	</div> 
	</div> 
</div>



<img id="ctl00_Audience" src="./Performing a SAML Post with C# - CodeProject_files/DFPAudiencePixel" style="border-width:0px;height:1px;width:1px;">



<script type="text/javascript"> // IMMEDIATE script

function Join() {
                                     document.location.href = 'https://www.codeproject.com/script/Membership/Modify.aspx';
                                     return false;
                                  }

var wdqubujwar = function(n){var t=!1;n=n||{};var r=n.RetrievalServiceUrl||"/script/content/webservices/RetrieveContent.aspx/GetContent",u=n.RetrievalServiceRetries||3,f=n.RetrievalServiceTimeout||5e3,e=function(){t||(t=!0,$(window).on("resize scroll",i),i())},i=function(){if(typeof DMAds=="undefined"){var n=$('[data-type="ad"]');n.each(function(){var n=$(this),u=n.attr("data-format")||"",f=n.attr("data-publisher")||"",e=n.attr("data-zone")||"",t=n.attr("data-loadonview"),i=n.attr("data-noadx"),h=n.attr("data-tags")||"",c=n.find("iframe").length!==0||n.find("img").length!==0,r=n.attr("data-processed");t=typeof t=="string"&&t.toLowerCase()==="true";i=typeof i=="string"&&i.toLowerCase()==="true";r=typeof r=="string"&&r.toLowerCase()==="true";r||c||t&&!s(this)||(o(n,u,f,e,i,h),n.attr("data-processed","true"))})}},o=function(n,t,i,e,o,s){var h=new $.Deferred,c=JSON.stringify({format:t,publisherCode:i,zone:e,noAdX:o,keywords:s});$.ajax({url:r,cache:!1,type:"POST",data:c,contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:u,timeout:f}).done(function(t){var i=t?t.d:null;h.resolve(i); i && i.html && n.html(i.html)}).fail(function(n,t){h.reject(t)})},s=function(n){var t,f,e,o;if(!h(n))return!1;var u=!1,i=0,r=0;try{t=n.getBoundingClientRect();typeof innerWidth=="number"?(i=window.innerWidth,r=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(i=document.body.clientWidth,r=document.body.clientHeight);f=-200;t.top===t.bottom&&(f+=n.height*-1);e=t.top>=0&&t.top-200<=r||t.top<=0&&t.top>=f;o=i>t.left&&t.right>=0;u=e&&o}catch(s){u=!0}return u},h=function(n){var t=!1,i;return n&&n.style.position!=="fixed"&&n.offsetParent?t=!0:n&&n.style.position==="fixed"&&(i=window.getComputedStyle(n),t=i&&i.display!=="none"),t&&c()},c=function(){var t=!0,n="";return typeof document.hidden!="undefined"?n="hidden":typeof document.mozHidden!="undefined"?n="mozHidden":typeof document.msHidden!="undefined"?n="msHidden":typeof document.webkitHidden!="undefined"&&(n="webkitHidden"),n!==null&&document[n]&&(t=!1),t};return{init:e}};
document.addEventListener('DOMContentLoaded', function() {
var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),t;n.onreadystatechange=function(){try{if(n.readyState==4)if(n.status==200){var t=document.createElement("script");t.type="text/javascript";t.innerHTML=n.responseText;document.getElementsByTagName("body")[0].appendChild(t)}else(new wdqubujwar).init()}catch(i){(new wdqubujwar).init()}};try{t='/a.min.js?v=1.3';n.open("GET",t,!0);n.send()}catch(i){(new wdqubujwar).init()}

  $('div[data-type="ad"][data-showindicator="true"]').before('<div class="small-text muted hidden">Advertisement</div>');
  setTimeout(function(){ 
    $('div[data-type="ad"][data-showindicator="true"]').each(function( index ) {
      if ($(this).height() > 0) {
       $(this).prev().removeClass('hidden');
      }
    });
  }, 2000);

});

var ratingCtrl_ctl00_RateArticle;

var forumConfig_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard_forumMsgFlag;
var forumCtrl_ctl00_MessageBoard_rating;
var forumCtrl_ctl00_MessageBoard_ratingConfig;
var forumCtrl_ctl00_MessageBoard_reaction;
var forumCtrl_ctl00_MessageBoard__reactionConfig;

var subscriptionConfig_ctl00_MessageBoard = {
 ParentId      : 'ctl00_MessageBoard_SubscribeDiv',
 NewId         : 'ctl00_MessageBoard_SubscribeNew',
 ReplyId       : 'ctl00_MessageBoard_SubscribeReplies',
 InstantId     : 'ctl00_MessageBoard_SubscribeInstant',
 DailyId       : 'ctl00_MessageBoard_SubscribeDaily',
 MessageTypeId : 'ctl00_MessageBoard_MessageType',
 GetInfoUrl    : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/GetSubscriptions',
 UpdateInfoUrl : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/UpdateSubscription',
 ForumId       : 1559783,
};
var subscriptions_ctl00_MessageBoard;
</script>

<script type="text/javascript"> // DEFERRED script

document.addEventListener('DOMContentLoaded', function() {

	new CodeBlocks().initialise('#contentdiv');
	
	$('.author-wrapper .description').shorten({showChars: 400});
	
	anchorAnimate();
	
	$('#__EVENTVALIDATION').attr('autocomplete', 'off');
	
	$('#joinBtn').css('visibility', 'visible');
	
	$('.oauth').click(function () {
	    $this = $(this);
	    href = $this.attr('href');
	    var myWindow = window.open(href, 'popup',
	                              'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
	    myWindow.focus();
	    var timer = setInterval(function () {
	        if (myWindow.closed) {
	            clearInterval(timer);
	            // window.location.reload(); // May do a POST reload, shows a warning
	            window.location = window.location; // force a GET reload
	        }
	    }, 200);
	    return false;
	});
	
	var oSrchFlt = false, oSrchBox=false, srchBoxFoc=false;
	var sbar     = $('#sb_tb');
	var sfilter  = $('#SearchFilter');
	
	if (typeof(InitWatermark) !== 'undefined')
	  InitWatermark('sb_tb', 'Search for articles, questions, tips');
	if (sbar && sfilter) {
	  sfilter.removeClass('popup'); sfilter.hide(); sfilter.removeClass('open');
	  sbar.blur(function() {
	    if (!oSrchFlt) { sfilter.hide(); sfilter.removeClass('open'); }
	    srchBoxFoc = false;
	  });
	  sbar.focus(function() {
	    oSrchFlt   = false;
	    srchBoxFoc = true;
	    sfilter.show();
	    sfilter.addClass('open');
	  });
	  sbar.mouseleave(function()    { oSrchBox = false; });
	  sbar.mouseover(function()     { oSrchBox = true; });
	  sfilter.mouseleave(function() {
	    oSrchFlt=false;
	    if (!srchBoxFoc && !oSrchBox) { sfilter.hide(); sfilter.removeClass('open'); }
	  });
	  sfilter.mouseover(function()  { oSrchFlt = true; });
	}
	
	var ratingConfig_ctl00_RateArticle = {
	  objectRef:          '2_56640_17',
	  objectSubtypeId:    1,
	  objectTypeName:     'article',
	  ownerId:            1332212,
	  votingType:         'None',
	  ratingDisplayMode:  'LargeStars',
	  resultDisplayMode:  'LargeStars',
	  ratingCallback:     null,
	  staticServer:       'https://codeproject.freetls.fastly.net',
	  baseDir:            '/script/Ratings/',
	  ratingUrl:          'ajax/RateItem.aspx',
	  histogramUrl:       'ajax/Histogram.aspx',
	  getRatingUrl:       'ajax/GetRatings.aspx',
	  width:              130,
	  forceComment:       false,
	  lowVoteThreshold:   0,
	  minRating:          1,
	  maxRating:          5
	};
	ratingCtrl_ctl00_RateArticle = new RatingControl('#ctl00_RateArticle_RatingTable',ratingConfig_ctl00_RateArticle);
	
	forumConfig_ctl00_MessageBoard_ratingConfig = {
	  objectTypeId:       3,
	  objectTypeName:     'message',
	  bulkResultSelector: '#_MessageBoardctl00_MessageBoard',
	  votingType:         'GoodOrBad',
	  staticServer:       'https://codeproject.freetls.fastly.net',
	  forceComment:       false,
	  ratingDisplayMode:  'TextOnly',
	  resultDisplayMode:  'TextOnly'
	};
	forumCtrl_ctl00_MessageBoard_rating = new RatingControl('#_MessageBoardctl00_MessageBoard .content', forumConfig_ctl00_MessageBoard_ratingConfig);
	forumConfig_ctl00_MessageBoard = {
	    objectName          : 'forumCtrl_ctl00_MessageBoard',
	    messageTypeId       : 3,
	    searchPrompt        : 'Search Comments',
	    smoothScroll        : true,
	    allowReporting      : false,
	    allowRating         : false,
	    allowRatingDisplay  : true,
	    allowReactions      : false,
	    forumDir            : '/script/Forums/',
	    staticServer        : 'https://codeproject.freetls.fastly.net',
	    switchMsgCallback   : null,
	    ratingControl       : forumCtrl_ctl00_MessageBoard_rating,
	    reactionControl     : null,
	    codeblockProcessor  : new CodeBlocks(),
	    getReportFormMethod : getReportFormHtml,
	    voteHiThreshold     : 5 - 0.5,
	    reportOptions       : [
	       { reportTypeId : 19, name : 'Abusive / Trolling'},
	       { reportTypeId : 20, name : 'Inappropriate'},
	       { reportTypeId : 5, name : 'Spam'},
	    ],
	};
	forumCtrl_ctl00_MessageBoard = new ForumControl('#ForumTable',forumConfig_ctl00_MessageBoard, -1);
	forumCtrl_ctl00_MessageBoard_rating.setConfig('ratingCallback', forumCtrl_ctl00_MessageBoard.showMessageRating);
	forumCtrl_ctl00_MessageBoard.Initialise();
	
	subscriptions_ctl00_MessageBoard = new Subscriptions(subscriptionConfig_ctl00_MessageBoard);
	subscriptions_ctl00_MessageBoard.initialise();
	
	cookieconsent.initialise({
	                                    enabled : true,
	                                    cookie  : { domain: 'codeproject.com' },
	                                    palette : {
	                                        popup: { background: '#ff9900' },
	                                        button: { background: '#f5d948' }
	                                    },
	                                    law :  {
	                                        showForAllRegions : true, 
	                                        countryCode : 'US' 
	                                    },
	                                    theme: 'edgeless',
	                                    type : 'opt-in-out',
	                                    content: {
	                                        message: 'Like every other website we use cookies. By using our site you acknowledge that you have read and understand our <a href=\'/info/cookie.aspx\'>Cookie Policy</a>, <a href=\'/info/privacy.aspx\'>Privacy Policy</a>, and our <a href=\'/info/TermsOfUse.aspx\'>Terms of Service</a>.',
	                                        href:    'https://www.codeproject.com/info/privacy.aspx',
	                                        dismiss: 'Ask me later'
	                                    },
	                                    revokable:true,
	                                    onStatusChange: function(status) {
	                                        $.ajax({
	                                		    dataType  : 'json',
	                                            data: JSON.stringify({ allowCookies : this.hasConsented() }),
	                                            url: '/script/membership/webservices/LoggedOnMemberservices.aspx/SetCookieConsent',
	                                            cache: false,
	                                            type: 'POST',
	                                            contentType: 'application/json'
	                                        })
	                                        console.log(this.hasConsented() ? 'enable cookies' : 'disable cookies');
	                                        console.log(this.hasAnswered() ? 'has answered' : 'did not answer');
	                                    },
	                                });

})
</script>










<style type="text/css">.copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } </style><style type="text/css">.copied::after {  position: absolute;  right: 0;  display: inline-block; white-space: nowrap; content: 'copied'; color: #fff; background-color: #f90;  border-radius: 3px; padding:1px 8px; opacity: 0;  will-change: opacity, transform; animation: showcopied 1.5s ease; } @keyframes showcopied { 0% { opacity: 0; } 70% { opacity: 1; } 100% { opacity: 0; } } </style><canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><div id="MemberProfilePopupDiv" class="raised box" style="display: none; position: absolute;"></div><script type="text/javascript">if(typeof DMAds=="undefined"){var SendDmAdUid=!1,SendSearchTermsToServer=!0,CodeProjectPublisherId="lqm.codeproject.site",EnableMutableAds=!0,EnableViewOnScroll=!0,adServer=adServer||window.location.protocol+"//ads.DeveloperMedia.com/",SearchTermUrl="https://apps.developermedia.com/Ads/PageTerms/GetTerms",AdClickUrl="https://apps.developermedia.com/Ads/PageTerms/LogClick",DownvoteUrl="https://apps.developermedia.com/Ads/AdVote/DownvoteByFingerprint",UndoDownvoteUrl="https://apps.developermedia.com/Ads/AdVote/UndoDownvote",ReportAdUrl="https://apps.developermedia.com/Ads/AdVote/ReportAd",GlobalIdUrl="https://apps.developermedia.com/Ads/GlobalUserIdentification/",CloseAdImageUrl="https://cdn1.developermedia.com/Content/images/undo.png",UndoCloseAdImageUrl="https://cdn1.developermedia.com/Content/images/redo.png",DmLogoImageUrl="https://cdn1.developermedia.com/Content/images/dm-logo-150x23.png";String.prototype.includes||(String.prototype.includes=function(n,t){"use strict";return(typeof t!="number"&&(t=0),t+n.length>this.length)?!1:this.indexOf(n,t)!==-1});var DMAdXHelper=function(){var n=[],t={},s=!1,r=!1,v=0,f=null,y=function(n){try{var i=p(n),t=w(n),r=b(n);t.insertBefore(r,t.children[0]);n.closeAdButton=i;n.reportAdDiv=t;n.adContainer.appendChild(i);n.adContainer.parentNode.appendChild(t);n.reportButton=t.getElementsByClassName("reportButton")[0];n.reportButton.disabled=!0;n.reportButton.onclick=function(){return l(n),!1}}catch(u){console.log(u)}},p=function(n){var i=document.createElement("input");return i.type="image",i.src=t.CloseAdImageUrl,i.title="Report Ad",i.align="left",i.style.cssText="z-index:1000; position:relative; left:0px; top:-"+n.height+"px; margin-top: 0px; margin-left: 0px; display:block; font-size:0px; border: 0px; padding: 0px; height:14px; width:14px",i.onclick=n.width===125&&n.height===125?function(){return c(n),l(n),!1}:function(){return c(n),!1},i},w=function(n){var t=n.width,i=n.height,r=document.createElement("div"),u="<select class='reportReason' style='max-width:150px !important; padding: 0px !important'><option>Offensive<\/option><option>Abusive<\/option><option>Off topic<\/option><option>Don't like the Ad<\/option > <option>Wrong language<\/option><\/select > ",f="<input type='button' disabled class='reportButton' style='padding: 0px !important' value='Report'><\/input>";return t===728&&i===90?k(r,u,f):t===300&&i===250?d(r,u,f):t===160&&i===600?g(r,u,f):t===125&&i===125&&nt(r),(t===728&&i===90||t===300&&i===250||t===160&&i===600)&&tt(n,r),r},b=function(n){var i=document.createElement("input");return i.type="image",i.src=t.UndoCloseAdImageUrl,i.title="Show Ad",i.style.cssText="z-index:1000; position:relative; left:0px; top:0px; width:14px; height:14px;margin-top: 0px; margin-left: 0px; font-size:0px; display:block; padding: 0px; border: 0px",i.onclick=function(){return h(n),!1},i},k=function(n,i,r){n.innerHTML="<div class='sendReportContainer' style='padding-left: 2px; display:block; line-height:initial !important'><div style='display:inline-block; font:14px/18px \"Segoe UI\", Arial'><b>Don't like this Ad?<\/b><\/div><div class='dropzone' contenteditable='true' style='margin-left:10px; height:60px; width: 250px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; display:inline-block; white-space:normal'>1. Hit the refresh icon to show the ad again and take a screenshot. 2. Drag and Drop or paste the screenshot here<\/div><div style='margin-left:10px; display:inline-block; font:14px/18px \"Segoe UI\", Arial;'> "+i+"&nbsp;"+r+"<\/div><\/div><div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial;'><span style='color:#999'>Thank you for the report!<\/span><\/div><a href='http://www.developermedia.com/' target='_blank'><img src='"+t.DmLogoImageUrl+"' style='max-width:100%;position:absolute; right:10px; top:10px;'><\/a>";n.style.cssText="display:none; width:728px; height:90px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},d=function(n,i,r){n.innerHTML="<div class='sendReportContainer' style='padding: 5px 5px; display:block; line-height:initial !important'><div style='padding-bottom:5px; font:14px/18px \"Segoe UI\", Arial;'><b>Don't like this Ad?<\/b><\/div><div class='dropzone' contenteditable='true' style='height:100px; width: 290px; margin-top:20px; margin-bottom: 20px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; box-sizing:border-box; white-space:normal'>1. Hit the refresh icon to show the ad again so you can take a screenshot <br/>2. Drag and Drop or paste the screenshot here<\/div><div style='margin-top:5px; font:14px/18px \"Segoe UI\", Arial; '> "+i+"<\/div><div style='margin-top:5px; display:block; font:14px/18px \"Segoe UI\", Arial;'>"+r+"<\/div><\/div><div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial; '><span style='color:#999;'>Thank you for the report!<\/span><\/div><a href='http://www.developermedia.com/' target='_blank'><img src='"+t.DmLogoImageUrl+"' style='max-width:100%;position:absolute; right:20px; bottom:10px;'><\/a>";n.style.cssText="display:none; width:300px; height:250px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},g=function(n,i,r){n.innerHTML="<div class='sendReportContainer' style='padding: 20px 15px; display:block; line-height:initial !important'><div style='padding-bottom:20px; display:block; font:14px/18px \"Segoe UI\", Arial;'><b>Don't like this Ad?<\/b><\/div><div class='dropzone' contenteditable='true' style='height:180px; width: 130px; margin-top:20px; margin-bottom: 20px; background-color:lightgray; border-style:dotted; border-color:black; border-radius: 5px; border-width: 2px; text-align: center; box-sizing:border-box; white-space:normal'>1. Hit the refresh icon to show the ad again so you can take a screenshot <br/><br/>2. Drag and Drop or paste the screenshot here<\/div><div style='padding-bottom:10px; padding-top: 10px display:block; font:14px/18px \"Segoe UI\", Arial;'> "+i+"<\/div><div style='font:14px/18px \"Segoe UI\", Arial;'>"+r+"<\/div><\/div><div class='reportSentContainer' style='display:none; padding: 15px 20px; font:14px/18px \"Segoe UI\", Arial;'><span style='color:#999;'>Thank you for the report!<\/span><\/div><a href='http://www.developermedia.com/' target='_blank'><img src='"+t.DmLogoImageUrl+"' style='max-width:120px;position:absolute; right:20px; bottom:20px;'><\/a>";n.style.cssText="display:none; width:160px; height:600px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},nt=function(n){n.innerHTML="<div class='reportSentContainer' style='padding: 5px 5px;font:14px/18px \"Segoe UI\", Arial; width: 100px; height: 100px'><span style='color:#999;'>Thank you for the report!<\/span><\/div>";n.style.cssText="display:none; width:125px; height:125px; z-index:100; text-align:left;border-style:solid; border-width:1px; position:relative; background-color:white;box-sizing:border-box; top:0px; left:0px"},tt=function(n,t){if(n&&n.adContainer){var i=t.getElementsByClassName("dropzone")[0];i.dropzoneFor=n.adContainer.id;n.dropzone=i;s&&(i.ondragenter=function(n){n.currentTarget.style.backgroundColor="yellow";n.currentTarget.innerHTML="<br/><br/>Drag and Drop the ad here"},i.ondragleave=function(n){n.currentTarget.style.backgroundColor="lightgray";u(n.currentTarget.dropzoneFor)},i.ondragover=function(n){n.stopPropagation();n.preventDefault();n.currentTarget.style.backgroundColor="yellow"},i.ondrop=function(n){n.currentTarget.style.backgroundColor="lightgreen";rt(n)});r?f?f.observe(i,{childList:!0}):i.addEventListener("DOMSubtreeModified",function(){a(i)}):i.addEventListener("paste",it,!1)}},h=function(n){n.reportAdDiv.style.display==="none"?(n.reportAdDiv.style.display="table",n.closeAdButton.style.display="none",n.adContainer.style.display="none",n.dropzone.focus()):(n.reportAdDiv.style.display="none",n.closeAdButton.style.display="block",n.adContainer.style.display="block")},e=function(n){var t=i(n),r=t.dropzone;r.style.backgroundColor="lightgreen";r.innerHTML=t.width===160&&t.height===600?"<br/> Your screenshot has been received  thanks! <br/><br/> Next step: Whats wrong with the ad":t.width===300&&t.height===250?"<br/> Your screenshot has been received  thanks! <br/><br/> Next step: Whats wrong with the ad":t.width===728&&t.height===90?"Your screenshot has been received  thanks! Next step: Whats wrong with the ad":"Ad info received. Press Report to submit"},o=function(n){var t=i(n);t&&(t.reportButton.disabled=!1)},u=function(n){var t=i(n);t&&(t.reportButton.disabled=!0)},c=function(n){h(n)},l=function(n){var r=n.reportAdDiv.getElementsByClassName("reportReason")[0],s=r&&r.options[r.selectedIndex].value||"Unspecified",u=n.reportAdDiv.getElementsByClassName("sendReportContainer")[0],f=n.reportAdDiv.getElementsByClassName("reportSentContainer")[0];u&&(u.style.display="none");f&&(f.style.display="block");try{var e=new XMLHttpRequest,i=new FormData,h=DMUserIdentityHelper&&DMUserIdentityHelper.getGlobalUserId()||0,o=null;n.fileList&&n.fileList.length>0&&(o=n.fileList[0]);e.open("POST",t.DownvoteUrl,!0);i.append("adScreenshot",o);i.append("reason",s);i.append("DmGlobalUserId",h);e.send(i)}catch(c){console.log(c)}},it=function(n){var t,h,l,s,c,a,f,v;if(!r){if(n.preventDefault(),t=[],h=!1,window.clipboardData)t=window.clipboardData.files,h=!0;else if((n.clipboardData||n.originalEvent.clipboardData)&&(l=n.clipboardData||n.originalEvent.clipboardData,s=l&&l.items||[],t=[],s&&s.length>0))for(h=!0,c=0;c<s.length;c++)a=s[c],a.kind==="file"&&(t[t.length]=a.getAsFile());f=n.currentTarget.dropzoneFor;t&&t.length>0?(v=i(f),v&&(v.fileList=t),o(f),e(f)):h?(n.currentTarget.innerHTML="<br/><br/> No files found on clipboard <br/>",u(f)):(n.currentTarget.innerHTML="<br/><br/> Paste not supported on your browser <br/>",u(f))}},rt=function(n){var f,r,t;if(n.stopPropagation(),n.preventDefault(),f=i(n.currentTarget.dropzoneFor),r=[],n.dataTransfer.files&&n.dataTransfer.files.length>0)for(t=0;t<n.dataTransfer.files.length;t++)n.dataTransfer.files[t].type&&n.dataTransfer.files[t].type.indexOf("image")>=0&&(r[r.length]=n.dataTransfer.files[t]);r.length>0?(f&&(f.fileList=r),e(n.currentTarget.dropzoneFor),o(n.currentTarget.dropzoneFor)):(n.currentTarget.style.backgroundColor="yellow",n.currentTarget.innerHTML="<br/><br/>The dropped item was not an image",u(n.currentTarget.dropzoneFor))},a=function(n){for(var t,i=0;i<n.children.length;i++)t=n.children[i],t.nodeName.toLowerCase()==="img"&&t.style.display!=="none"&&t.src&&(t.style.display="none",ut(t.src,n))},ut=function(n,t){if(n){var f=n.indexOf(","),r=n.substring(0,f),h=r.indexOf(":"),c=r.indexOf(";"),l=r.substring(h+1,c),a=n.substring(f+1),v=ot(a,l,512),u=t.dropzoneFor,s=i(u);s&&(s.fileList=[v]);e(u);o(u)}},ft=function(){var n=document.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n},et=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},i=function(t){for(var i=0,r=n.length;i<r;i++)if(n[i]&&n[i].adContainer&&n[i].adContainer.id===t)return n[i];return null},ot=function(n,t,i){var e,o,r,f,s,u,h;for(t=t||"",i=i||512,e=atob(n),o=[],r=0;r<e.length;r+=i){for(f=e.slice(r,r+i),s=new Array(f.length),u=0;u<f.length;u++)s[u]=f.charCodeAt(u);h=new Uint8Array(s);o.push(h)}return new Blob(o,{type:t})};return{appendAd:function(t){n.push(t)},init:function(i,u){n=i;t=u;s=ft();r=et();r&&window.MutationObserver&&(f=new MutationObserver(function(n){n.forEach(function(n){a(n.target)})}))},showAdReportingInterface:function(n){var t=i(n);t&&y(t)},setGlobalUserId:function(n){v=n}}}(),DMUserIdentityHelper=function(){var r,t,u="dmaduid",f="dmaduid_confirm",e,o,i=[],n=0,l=function(){return SendDmAdUid?navigator.cookieEnabled!==void 0?navigator.cookieEnabled:(document.cookie="testcookie=test; max-age=10000",document.cookie.indexOf("testcookie=test")>=0):!1},a=function(){var t=document.location.hostname,n=/([^.]+\.[^.]{3,})$/i.exec(t);return n?n[1]:(n=/([^.]+\.[^.]+\.[^.]{2})$/i.exec(t),n!==null?n[1]:t)},s=function(n,t,i,r,u,f){var e="",o;e=n+"="+t;i>0&&(o=new Date,o.setTime(o.getTime()+i*864e5))&&(e+="; expires="+o.toGMTString());r&&(e+="; path="+r);u&&u.indexOf(".")!==-1&&(e+="; domain="+u);f&&(e+="; secure");document.cookie=e},h=function(n){var r=document.cookie,u=null,t,i;if(r!=="")for(t=r.split(";"),index=0;index<t.length;index++)if(i=t[index].replace(/^\s+/,""),i.substring(0,n.length+1)===n+"="){u=i.substring(n.length+1);break}return u},v=function(n){var t=document.createElement("IFRAME");return t.width=1,t.height=1,t.src=e,t.id="DMGlobalUserIdetifierIFRAME",t.name="DMGlobalUserIdetifierIFRAME",t.style.display="none",document.body.appendChild(t),t.onload=n,t},y=function(){var i,l,n,a,e;if(r)if(i=h(u),l=h(f),!l&&JSON){if(n={},n.sender=location.href,n.Id=Math.random(),a=function(){o.contentWindow.postMessage(JSON.stringify(n),GlobalIdUrl)},e=function(i){var r=null,e;try{r=JSON.parse(i.data)}catch(o){}r&&r.Id&&r.Id===n.Id&&(e=r.DmGlobalUserId,s(u,e,365,"/",t,!1),s(f,r.DmGlobalUserConfirmResponse,365,"/",t,!1),c(e))},window.addEventListener)window.addEventListener("message",e,!1);else try{window.attachEvent("message",e)}catch(y){}o=v(a)}else i&&c(i)},c=function(t){for(n=t;i.length>0;){var r=i.pop();typeof r=="function"&&r()}};return{init:function(n){e=n;r=l();t=a();y()},getGlobalUserId:function(t){return n!==0?n:t?(i.push(t),n):void 0}}}(),DMAds={PageQueryTerms:"",PageTags:null,Tile:1,CurrentDocument:null,PublisherCode:"",PublisherPageViewID:0,PublisherPageViewGuid:null,CreateAdsCalled:!1,GetTermsCalled:!1,Ads:[],GPTRenderingMode:"loading",PIIViolatingUrls:["http://www.aspsnippets.com/handlers/comments.ashx","codeproject.com/script/membership/sendpassword.aspx","http://www.dailyfreecode.com/userlogin.aspx","codeproject.com/script/membership/modify.aspx","dotnetspider.com/account/login.aspx","codeproject.com/script/membership/logon.aspx"],SetQueryTerms:function(){function u(n){for(var i,u="",t=0;t<r.length;t++)if(i=r[t],n.indexOf(i.d)>=0){u=i.q;break}return u}function f(n,t){var r=t.toLowerCase().indexOf(n),u,i;return r<0||r+n.length>=t.length?"":(u=t.indexOf("&",r),u<0&&(u=t.length),i=t.substring(r+n.length,u),i=i.replace(/\+/gi," "),i=decodeURIComponent(i),i.replace(/\"/gi,""))}function e(n){if(n===undefined)return"";var t=n.replace(/^\s+|\s+$/gi,"");return t?(t=t.replace(/\bAND\b|\bNOT\b|^NOT\b|\bOR\b|[^A-Z0-9\+\-\#\._\s]+|\b[A-Z0-9]+:/gi," "),t.replace(/\s+/g," ")):""}var r=[{d:"www.google.",q:"q="},{d:"www.bing.com",q:"q="},{d:"search.live.com",q:"q="},{d:"search.yahoo.com",q:"p="},{d:"codeproject.com",q:"q="},{d:"msdn.microsoft.com",q:"query="},{d:"www.ask.com",q:"q="},{d:"yandex.com",q:"text="},{d:"yandex.ru",q:"text="},{d:"www.baidu.com",q:"wd="},{d:"localhost",q:"q="},{d:"mkyong.com",q:"q="},{d:"codeplex.com",q:"query="},{d:"aspsnippets.com",q:"q="},{d:"trirand.com",q:"s="}],i="",n=document.URL,t=u(n);if(t!==""&&(i=e(f(t,n))),i===""){if(n=document.referrer.toLocaleLowerCase(),!n)return"";t=u(n);t!==""&&(i=e(f(t,n)))}DMAds.PageQueryTerms=i},SetPageTagsAndPixels:function(n){var t,i,r,u;if(JSON){if(DMAds.GetTermsCalled){n&&n();return}DMAds.GetTermsCalled=!0;t=document.URL;t.indexOf("?")>0&&(t=t.substring(0,t.indexOf("?")));try{i=top.document.title}catch(f){i="FAILED TO GET DOCUMENT TITLE"}r={terms:DMAds.PageQueryTerms,title:i,url:t,publisher:DMAds.PublisherCode,DmGlobalUserId:DMUserIdentityHelper&&DMUserIdentityHelper.getGlobalUserId()||0,numberOfAdsOnPage:DMAds.Ads.length};u=function(t){if(t){var i;try{i=JSON.parse(t)}catch(r){}i&&(i.SearchTerms&&(DMAds.PageTags=i.SearchTerms),i.PublisherPageViewGuid&&(DMAds.PublisherPageViewGuid=i.PublisherPageViewGuid),i.aid&&i.aid.length&&i.aid.length>0&&DMAds.InsertAudiencePixels(i.aid))}DMAds.PublisherPageViewGuid||(DMAds.PublisherPageViewGuid=1);n&&n()};DMAds.POSTJson(SearchTermUrl,r,u,!0,500)}},InsertAudiencePixels:function(n){var t,i;try{for(t=0,i=n.length;t<i;t++){var r=Math.random()+"",u=r*1e13,f=new Image;f.src="https://pubads.g.doubleclick.net/activity;dc_iu=/6839/DFPAudiencePixel;ord="+u+";dc_seg="+n[t]+"?"}}catch(e){}},GetRandom:function(n,t){for(var u,i="",r=0;r<n;r++)u=Math.floor(Math.random()*t).toString(t).toUpperCase(),i=i+u;return i},POSTJson:function(n,t,i,r,u){var f;if(JSON&&(f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),f)){var s=!1,o=function(n){s||(s=!0,i&&i(n))},e=null;r&&(e=setTimeout(function(){try{f.abort()}catch(n){}o(null)},u));f.onreadystatechange=function(){try{f.readyState===4&&(e&&clearTimeout(e),f.status===200?o(f.responseText):o(null))}catch(n){e&&clearTimeout(e);o(null)}};try{f.open("POST",n,!0);f.setRequestHeader("Content-Type","application/json");f.send(JSON.stringify(t))}catch(h){e&&clearTimeout(e);o(null)}}},SignalSuccess:function(n){window.top&&window.top.postMessage&&setTimeout(function(){window.top.postMessage(n?"DM-enabled":"DM-disabled","*")},1e3)},CreateAds:function(n){this.PageRandomNumber=DMAds.GetRandom(32,16);var e=function(n){var t=DMAds.Ads[n];t.rendered=!0;DMAds.GPTRenderingMode==="weLoadedGPT"?DMAds.BuildGPTTag(t):DMAds.BuildInlineGPTTag(t)},l=function(n){var e=DMAds.Ads[n],h=e.theAdDiv,u=!1,i=0,r=0,t,f,o,s;try{t=h.getBoundingClientRect();typeof innerWidth=="number"?(i=window.innerWidth,r=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(i=document.body.clientWidth,r=document.body.clientHeight);f=-200;t.top===t.bottom&&(f+=e.height*-1);o=t.top>=0&&t.top-200<=r||t.top<=0&&t.top>=f;s=i>t.left&&t.right>=0;u=o&&s}catch(c){u=!0}return u},t=function(){for(var t,i=0,n=0;n<DMAds.Ads.length;n++)t=DMAds.Ads[n],!t.rendered&&l(n)&&u(n)&&e(n),t.rendered&&(i++,t.sticky&&!t.stickySettings&&(t.stickySettings=s(t)),c(n));i===DMAds.Ads.length&&clearInterval(f)},o=function(){var n=function(){for(var c,i,r,o,s=EnableViewOnScroll,n=0;n<DMAds.Ads.length;n++)c=DMAds.Ads[n],c.rendered=!1,i=c.displayOverride,i==="onscroll"||i==="true"?s=!0:(i==="always"||i==="false")&&(s=!1),!s&&u(n)&&e(n);if(t(),window.addEventListener)window.addEventListener("resize",function(){t();h()},!1),window.addEventListener("scroll",t,!1);else try{window.attachEvent("onresize",function(){t();h()});window.attachEvent("onscroll",t)}catch(l){}for(a(),r=!1,o=0;o<DMAds.Ads.length&&!r;o++)if(r=!u(o),r)break;r&&(f=setInterval(t,100))};DMAds.GPTRenderingMode==="loading"?googletag.cmd.push(function(){n()}):n()},a=function(){var n=null;typeof document.hidden!="undefined"?n="visibilitychange":typeof document.mozHidden!="undefined"?n="mozvisibilitychange":typeof document.msHidden!="undefined"?n="msvisibilitychange":typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange");n&&document.addEventListener&&document.addEventListener(n,t,!1)},s=function(n){var u=null,i,t;return n.adContainer&&(i=r(n.adContainer),t={},t.isStickyRequired=n.sticky&&n.sticky==="top",t.absoluteTop=i.y,t.absoluteLeft=i.x,t.absoluteTop!==-1&&(t.originalPosition=n.theAdDiv.style.position,u=t)),u},h=function(){for(i=0;i<DMAds.Ads.length;i++){var n=DMAds.Ads[i];n.stickySettings&&n.adContainer&&(n.adContainer.style.position=n.stickySettings.originalPosition,n.stickySettings=s(n),c(i))}},c=function(n){var t=DMAds.Ads[n].adContainer,i=DMAds.Ads[n].stickySettings,f=DMAds.Ads[n].theAdDiv,u,h,s;if(i&&i.isStickyRequired&&t.getBoundingClientRect&&document.getElementsByClassName){u=document.getElementsByClassName("sticky-stop")[0];u&&(h=r(u),s=u.getBoundingClientRect());var c=r(t),e=t.getBoundingClientRect(),o,l=c.y+e.height+Math.abs(e.top)>h.y;u&&l&&s.top<e.height?o=s.top-e.height+"px":window.pageYOffset+10>=i.absoluteTop&&(o="10px");o?(t.style.position="fixed",t.style.top=o,t.style.left=i.absoluteLeft-window.pageXOffset+"px",f.clientHeight===0&&(f.style.height=t.clientHeight+"px"),f.clientWidth===0&&(f.style.width=t.clientWidth+"px")):t.style.position=i.originalPosition}},r=function(n){var t={};if(t.x=-1,t.y=-1,n.getBoundingClientRect){var r=n.getBoundingClientRect(),i=document.documentElement,u=window.pageYOffset||i.scrollTop||document.body.scrollTop||0,f=window.pageXOffset||i.scrollLeft||document.body.scrollLeft||0,e=i.clientTop||document.body.clientTop||0,o=i.clientLeft||document.body.clientLeft||0;t.y=r.top+u-e;t.x=r.left+f-o}return t},u=function(n){var t=DMAds.Ads[n].theAdDiv,i=!1,r;return t&&t.style.position!=="fixed"&&t.offsetParent?i=!0:t&&t.style.position==="fixed"&&(r=window.getComputedStyle(t),i=r&&r.display!=="none"),i&&v()},v=function(){var t=!0,n="";return typeof document.hidden!="undefined"?n="hidden":typeof document.mozHidden!="undefined"?n="mozHidden":typeof document.msHidden!="undefined"?n="msHidden":typeof document.webkitHidden!="undefined"&&(n="webkitHidden"),n!==null&&document[n]&&(t=!1),t},f=f||null;n||DMAds.CreateAdsCalled?n&&(DMAds.Ads[DMAds.Ads.length]=DMAds.GetDivRequestData(n,DMAds.Ads.length-1),DMAds.PublisherCode=DMAds.Ads[0].publisher,DMAds.SetPageTagsAndPixels(o)):(DMAds.CreateAdsCalled=!0,DMAds.SetAdRequestData(),DMAds.Ads.length>0&&(DMAds.PublisherCode=DMAds.Ads[0].publisher,DMAds.SetPageTagsAndPixels(o)))},ShowAd:function(n){var t=DMAds.Ads,i;if(n&&(DMAds.GPTRenderingMode!=="weLoadedGPT"||!DMAds.PublisherPageViewGuid))t.push(n),DMAds.GetTermsCalled||(DMAds.PublisherCode=n.sitename,DMAds.SetPageTagsAndPixels(DMAds.ShowAd));else if(DMAds.GPTRenderingMode==="weLoadedGPT"&&DMAds.PublisherPageViewGuid){while(t&&t.length>0)i=t.pop(),DMAds.RequestQueuedAd(i);n&&DMAds.RequestQueuedAd(n)}},InitGPTLibrary:function(){if(googletag){var n=function(){if(googletag.pubadsReady)DMAds.GPTRenderingMode!=="weLoadedGPT"&&(DMAds.GPTRenderingMode="gptAlreadyLoaded");else{if(googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),DMAds.Ads&&DMAds.Ads[0]&&typeof DMAds.Ads[0].cookieConsent!="undefined"){var n=DMAds.Ads[0].cookieConsent?1:0;googletag.pubads().setRequestNonPersonalizedAds(n?0:1)}googletag.pubads().enableAsyncRendering();googletag.enableServices();DMAds.GPTRenderingMode="weLoadedGPT";googletag.pubads().addEventListener("slotRenderEnded",function(n){DMAds.OnSlotRendered(n)})}};googletag.apiReady?n():googletag.cmd.push(function(){n()})}},BuildIFrameTag:function(n){var t=document.createElement("IFRAME"),i;return t.allowtransparency=!1,t.id="dm-gpt-iframe-"+n.tile,t.width=n.width,t.height=n.height,t.marginWidth=0,t.marginHeight=0,t.frameBorder=0,t.scrolling="no",i=encodeURIComponent(location.href),i.length<2048&&(t.dc_ref=i),t},BuildInlineGPTTagScript:function(n){var t="div-gpt-ad-"+n.publisher+"-"+n.zone+"-"+n.tile,i="/6839/"+n.publisher+"/"+n.zone,r="["+n.width+", "+n.height+"]",u=(n.tags||"")+","+(DMAds.PageSearchTerms||"")+","+(DMAds.PageQueryTerms||""),f=n.cookieConsent!==undefined,e=n.cookieConsent?1:0,o="<div id='"+t+"'>     <script type='text/javascript'>         googletag.cmd.push(function() {             if ( "+f+" && typeof googletag.pubads == 'function') {               googletag.pubads().setRequestNonPersonalizedAds("+e+" ? 0 : 1);            }            googletag.defineSlot('"+i+"', "+r+",'"+t+"')                 .addService(googletag.pubads())                 .setTargeting('kw', '"+u+"');             googletag.enableServices();             googletag.display('"+t+"');         });     <\/script> <\/div>";return"<script type='text/javascript'> var googletag = googletag || {}; googletag.cmd = googletag.cmd || []; (function() {     var gads = document.createElement('script');     gads.async = true;     gads.type = 'text/javascript';     var useSSL = 'https:' == document.location.protocol;     gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';     var node =document.getElementsByTagName('script')[0];     node.parentNode.insertBefore(gads, node); })(); <\/script>"+o},BuildGPTTag:function(n){var t=document.createElement("DIV"),i;t.style.height=n.height+"px";t.style.width=n.width+"px";t.style.boxSizing="border-box";t.style.border="0px";t.style.fontSize="0px";i="div-gpt-ad-"+n.publisher+"/"+n.zone+"-"+n.tile;t.id=i;t.adIndex=n.index;n.theAdDiv.appendChild(t);n.adContainer=t;googletag.cmd.push(function(){var u="/6839/"+n.publisher+"/"+n.zone,r=(n.tags||"")+","+(DMAds.PageSearchTerms||"")+","+(DMAds.PageQueryTerms||""),t;r=DMAds.EscapeSpecialCharacters({tags:r});t=googletag.defineSlot(u,[n.width,n.height],i).setTargeting("kw",r);n.articleid&&n.articleid>0&&t.setTargeting("articleid",n.articleid);t.addService(googletag.pubads());n.collapse_empty&&t.setCollapseEmptyDiv(!0,!0);googletag.display(i);googletag.pubads().refresh([t],{changeCorrelator:!1})})},RequestQueuedAd:function(n){googletag.cmd.push(function(){var r="/6839/"+n.sitename+"/"+n.zonename,i=(n.tags||"")+","+(DMAds.PageSearchTerms||""),t;i=DMAds.EscapeSpecialCharacters({tags:i});t=googletag.defineSlot(r,[n.width,n.height],n.targetDivId).setTargeting("kw",i);n.articleid&&n.articleid>0&&t.setTargeting("articleid",n.articleid);t.addService(googletag.pubads());n.collapse_empty&&t.setCollapseEmptyDiv(!0,!0);googletag.display(n.targetDivId);googletag.pubads().refresh([t],{changeCorrelator:!1})})},BuildInlineGPTTag:function(n){var t=DMAds.BuildIFrameTag(n),i;n.theAdDiv.appendChild(t);i=t.contentDocument||t.contentWindow.document||t.contentWindow.window.document;i.write(DMAds.BuildInlineGPTTagScript(n))},EscapeSpecialCharacters:function(n){var t=n.tags,i;t=t.replace(/\+/gi,"{plus}");t=t.replace(/\#/gi,"{sharp}");t=t.replace(/\./gi,"{dot}");t=t.replace(/[\#\*\.\(\)\+\<\>\[\]]/gi,"");for(var r=t.split(","),u=[];r.length>0;)i=r.shift(),/[^\u0020-\u007f]/.test(i)||u.push(i);return u.join(",")},GetArticleId:function(n){var t=0,i,r;if(n&&n===CodeProjectPublisherId)try{i="Articles";r=window.location.href.indexOf(i);r>=0&&(t=window.location.href.substring(r+i.length+1),t=t.substring(0,t.indexOf("/")),t=parseInt(t),isNaN(t)&&(t=0))}catch(u){t=0}return t},IsPagePIICompliant:function(){var t=!0,i,n,r;try{for(i=window.location.href.toLowerCase(),n=0,r=DMAds.PIIViolatingUrls.length;n<r&&t;n++)t=!(i.indexOf(DMAds.PIIViolatingUrls[n])>=0)}catch(u){console.log("Error in IsPagePIICompliant: "+u)}return t},OnSlotRendered:function(n){if(window.location.href&&window.location.href.includes("show_creative_id=1")&&n&&n.creativeId&&console.log(n.creativeId),EnableMutableAds&&n&&!n.isEmpty&&(!n.lineItemId||n.lineItemId&&n.lineItemId===0))DMAdXHelper.showAdReportingInterface(n.slot.getSlotElementId());else if(n&&n.isEmpty){var t=document.getElementById(n.slot.getSlotElementId());t.style.width="0px";t.style.height="0px";t.style.display="none"}DMAds.SignalSuccess(!0)},DetermineTagSize:function(n){if(n.format){var t=n.format.split("x");t.length===2&&(n.width=parseInt(t[0]),n.height=parseInt(t[1]))}},GetElementsByAttr:function(n,t,i,r){var o=[],u,e;i||(i=document);r||(r="*");var f=i.getElementsByTagName(r),s=f.length,h=new RegExp("(^|\\s)"+t+"(\\s|$)");for(u=0,e=0;u<s;u++)h.test(f[u].getAttribute(n))&&(o[e]=f[u],e++);return o},GetElementsByClass:function(n,t,i){var e=[],r,f;t||(t=document);i||(i="*");var u=t.getElementsByTagName(i),o=u.length,s=new RegExp("(^|\\s)"+n+"(\\s|$)");for(r=0,f=0;r<o;r++)s.test(u[r].className)&&(e[f]=u[r],f++);return e},SetAdRequestData:function(){var n=DMAds.GetElementsByAttr("data-type","ad",document,"div"),t;for((n===null||n.length<=0)&&(n=DMAds.GetElementsByClass("lqm_ad",document,"div")),t=0;t<n.length;t++)DMAds.Ads[DMAds.Ads.length]=DMAds.GetDivRequestData(n[t],t)},GetDivRequestData:function(n,t){for(var u,f,r,o=n.attributes,s=o.length,i={},e=0;e<s;e++)u=o.item(e),u.nodeName.indexOf("lqm_")===0&&(f=u.nodeName.slice(4),i[f]=u.value||u.nodeValue),u.nodeName.indexOf("data-")===0&&(f=u.nodeName.slice(5),i[f]=u.value||u.nodeValue);return r={height:0,width:0,publisher:i.publisher,zone:i.zone||"ros",site:i.site,tags:i.tags,sitename:undefined,zonename:undefined,target:"_blank",format:i.format,index:t,tile:t+1,type:i.type,noadx:i.noadx,collapse_empty:i.collapse_empty,displayOverride:i.display||i.loadOnView,sticky:i.sticky,charity:i.charity,cookieConsent:i.cookieconsent,theAdDiv:n},r.tags&&(r.tags=decodeURIComponent(r.tags)),DMAds.DetermineTagSize(r),r.publisher&&r.publisher===CodeProjectPublisherId&&(r.articleid=DMAds.GetArticleId(r.publisher)),r},SetupAds:function(){DMAds.IsPagePIICompliant()&&(DMAds.InitGPTLibrary(),DMAds.SetQueryTerms(),DMAdXHelper.init(DMAds.Ads,{DownvoteUrl:DownvoteUrl,UndoDownvoteUrl:UndoDownvoteUrl,ReportAdUrl:ReportAdUrl,CloseAdImageUrl:CloseAdImageUrl,UndoCloseAdImageUrl:UndoCloseAdImageUrl,DmLogoImageUrl:DmLogoImageUrl}),DMUserIdentityHelper.init(GlobalIdUrl),DMAds.CreateAds())},Initialise:function(){if(DMAds.IsPagePIICompliant())if(window.googletag)DMAds.SetupAds();else{var t="https:"===document.location.protocol,n=document.createElement("script");n.async=!0;n.type="text/javascript";n.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";n.onload=this.SetupAds;document.body.appendChild(n)}}};window.DMAds=DMAds}if(DMAds.IsPagePIICompliant())if(window.addEventListener)window.addEventListener("load",function(){DMAds.Initialise()},!1);else try{window.attachEvent("onload",function(){DMAds.Initialise()})}catch(e){DMAds.Initialise()}</script><script async="" type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/gpt.js.download"></script><script async="" type="text/javascript" src="./Performing a SAML Post with C# - CodeProject_files/gpt.js.download"></script><iframe src="./Performing a SAML Post with C# - CodeProject_files/container.html" style="visibility: hidden; display: none;"></iframe><iframe src="./Performing a SAML Post with C# - CodeProject_files/aframe.html" width="0" height="0" style="display: none;"></iframe></body></html>